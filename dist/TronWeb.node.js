(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.d(t,{default:()=>Lr});var r={};e.r(r),e.d(r,{AbiCoder:()=>ee,FormatTypes:()=>re,Interface:()=>te,SigningKey:()=>ce,arrayify:()=>ne,concat:()=>se,ethersWallet:()=>G.Wallet,id:()=>oe,isValidMnemonic:()=>ue,joinSignature:()=>ae,keccak256:()=>J,recoverAddress:()=>Z,sha256:()=>$,splitSignature:()=>ie,toUtf8Bytes:()=>Y,toUtf8String:()=>X});var n={};e.r(n),e.d(n,{decodeParams:()=>fe,decodeParamsV2ByABI:()=>me,encodeParams:()=>ve,encodeParamsV2ByABI:()=>ye});var i={};e.r(i),e.d(i,{base64DecodeFromString:()=>Ae,base64EncodeToString:()=>Pe,byte2hexStr:()=>we,byteArray2hexStr:()=>Ie,bytesToString:()=>xe,hextoString:()=>Se});var a={};e.r(a),e.d(a,{decode58:()=>Oe,encode58:()=>Be});var s={};e.r(s),e.d(s,{arrayEquals:()=>Ke,base64DecodeFromString:()=>Ae,base64EncodeToString:()=>Pe,bin2String:()=>De,byte2hexStr:()=>we,byteArray2hexStr:()=>Ie,bytesToString:()=>xe,getStringType:()=>ze,hexChar2byte:()=>He,hexStr2byteArray:()=>Ue,hextoString:()=>Se,isHexChar:()=>Le,isNumber:()=>Me,strToDate:()=>Fe,stringToBytes:()=>Ve});var o={};e.r(o),e.d(o,{ECKeySign:()=>Bt,SHA256:()=>Rt,_signTypedData:()=>xt,arrayToBase64String:()=>kt,byteArray2hexStr:()=>Ie,computeAddress:()=>At,decode58Check:()=>_t,decodeBase58Address:()=>mt,genPriKey:()=>It,getAddressFromPriKey:()=>Pt,getAddressFromPriKeyBase64String:()=>jt,getBase58CheckAddress:()=>yt,getBase58CheckAddressFromPriKeyBase64String:()=>Nt,getECKeySig:()=>Ct,getHexStrAddressFromPriKeyBase64String:()=>Wt,getPubKeyFromPriKey:()=>Et,getRowBytesFromTransactionBase64:()=>St,isAddressValid:()=>Tt,passwordToAddress:()=>qt,pkToAddress:()=>Dt,sha256:()=>Ot,signBytes:()=>wt,signTransaction:()=>bt});var u={};e.r(u),e.d(u,{generateAccount:()=>Vt,generateAccountWithMnemonic:()=>Lt,generateRandom:()=>Ht});var c={};e.r(c),e.d(c,{TRON_MESSAGE_PREFIX:()=>Ut,hashMessage:()=>Ft,signMessage:()=>Mt,verifyMessage:()=>zt});const d=require("@babel/runtime/helpers/asyncToGenerator");var l=e.n(d);const h=require("@babel/runtime/helpers/typeof");var f=e.n(h);const v=require("@babel/runtime/helpers/classCallCheck");var p=e.n(v);const g=require("@babel/runtime/helpers/createClass");var y=e.n(g);const m=require("@babel/runtime/helpers/assertThisInitialized");var b=e.n(m);const k=require("@babel/runtime/helpers/inherits");var w=e.n(k);const x=require("@babel/runtime/helpers/possibleConstructorReturn");var S=e.n(x);const I=require("@babel/runtime/helpers/getPrototypeOf");var A=e.n(I);const P=require("@babel/runtime/helpers/defineProperty");var _=e.n(P);const T=require("@babel/runtime/regenerator");var N=e.n(T);const W=require("bignumber.js");var j=e.n(W);const E=require("eventemitter3");var C=e.n(E);const B=require("injectpromise");var O=e.n(B);const R=require("semver");var q=e.n(R);const D="0.1.0-alpha.2",K=require("@babel/runtime/helpers/slicedToArray");var V=e.n(K),H=y()((function e(t){if(p()(this,e),_()(this,"tronWeb",void 0),_()(this,"injectPromise",void 0),!t)throw new Error("Expected instances of TronWeb and utils");this.tronWeb=t,this.injectPromise=O()(this)}));const L=require("validator");var U=e.n(L),F="41",M=/^(41)/,z="m/44'/195'/0'/0/0";const G=require("ethers");var J=G.utils.keccak256,$=G.utils.sha256,Y=G.utils.toUtf8Bytes,X=G.utils.toUtf8String,Z=G.utils.recoverAddress,Q=G.utils.SigningKey,ee=G.utils.AbiCoder,te=G.utils.Interface,re=G.utils.FormatTypes,ne=G.utils.arrayify,ie=G.utils.splitSignature,ae=G.utils.joinSignature,se=G.utils.concat,oe=G.utils.id,ue=G.utils.isValidMnemonic,ce=function(e){w()(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=A()(t);if(r){var i=A()(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return S()(this,e)});function i(e){return p()(this,i),n.call(this,e)}return y()(i)}(Q),de=new ee;function le(e){return Lr.address.toHex(e).replace(M,"0x")}function he(e){if("[object Object]"!==Object.prototype.toString.call(e)&&"[object Array]"!==Object.prototype.toString.call(e))return e;var t=Array.isArray(e)?[]:{};for(var r in e)t[r]=e[r]instanceof Object&&!e[r]._isBigNumber?he(e[r]):e[r];return t}function fe(e,t,r,n){var i,a,s,o;if(r&&"boolean"!=typeof r?(i=n,a=r,s=t,o=e):(i=r,a=t,s=e,o=[]),i&&a.replace(/^0x/,"").length%64==8&&(a="0x"+a.replace(/^0x/,"").substring(8)),a.replace(/^0x/,"").length%64)throw new Error("The encoded string is not valid. Its length must be a multiple of 64.");return s=s.map((function(e){return/trcToken/.test(e)&&(e=e.replace(/trcToken/,"uint256")),e})),de.decode(s,a).reduce((function(e,t,r){return"address"===s[r]&&(t=F+t.substr(2).toLowerCase()),o.length?e[o[r]]=t:e.push(t),e}),o.length?{}:[])}function ve(e,t){for(var r=0;r<e.length;r++)"address"===e[r]&&(t[r]=Lr.address.toHex(t[r]).replace(M,"0x"));return de.encode(e,t)}function pe(e){var t=e.match(/([a-zA-Z0-9])(\[.*\])/);return t?t[2]:""}function ge(e){return(pe(e).match(/\]\[/g)||[]).length+1}function ye(e,t){var r=[],n=function e(t){if(t&&0===t.type.indexOf("tuple")&&t.components){var r=t.components.map((function(t){return e(t)}));return"tuple(".concat(r.join(","),")").concat(pe(t.type))}return/trcToken/.test(t.type)?t.type.replace(/trcToken/,"uint256"):t.type},i=function e(t){return Array.isArray(t)?(t.forEach((function(r,n){t[n]=e(r)})),t):le(t)},a=function e(t,r,n){n>1?r.length&&r.forEach((function(r){e(t,r,n-1)})):r.length&&n&&r.forEach((function(e){s(t,e)}))},s=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;t.length&&t.forEach((function(t,n){var s=t.type;if(r[n])if("address"===s)r[n]=le(r[n]);else if("address["===s.match(/^([^\x5b]*)(\x5b|$)/)[0])i(r[n]);else if(0===s.indexOf("tuple"))if(pe(s)){var o=ge(s);a(t.components,r[n],o)}else e(t.components,r[n])}))};if(e.inputs&&e.inputs.length)for(var o=0;o<e.inputs.length;o++){var u=e.inputs[o].type;"bool"===u&&"false"===t[o]&&(t[o]=!1),r.push(0===u.indexOf("tuple")?n(e.inputs[o]):u),t.length<r.length&&t.push("")}return s(e.inputs,t),function(e){for(var t=0;t<e.length;t++){var r=e[t];/trcToken/.test(r)&&(e[t]=r.replace(/trcToken/,"uint256"))}}(r),de.encode(r,t)}function me(e,t){var r=function e(t){return Array.isArray(t)?(t.forEach((function(r,n){t[n]=e(r)})),t):Lr.address.toHex(t)},n=function e(t,r,n){n>1?r.length&&r.forEach((function(r){e(t,r,n-1)})):r.length&&n&&r.forEach((function(e){a(t,e)}))},i=function e(t){var r=t.name?" ".concat(t.name):"";if(t&&0===t.type.indexOf("tuple")&&t.components){var n=t.components.map((function(t){return e(t)}));return"tuple(".concat(n.join(","),")").concat(pe(t.type)).concat(r)}return/trcToken/.test(t.type)?t.type.replace(/trcToken/,"uint256")+r:t.type+r},a=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0;t.length&&t.forEach((function(t,a){var s=t.type,o=t.name;if(i[a])if("address"===s)i[a]=Lr.address.toHex(i[a]),o&&(i[o]=Lr.address.toHex(i[o]));else if("address["===s.match(/^([^\x5b]*)(\x5b|$)/)[0])r(i[a]),o&&r(i[o]);else if(0===s.indexOf("tuple")){if(pe(s)){var u=ge(s);n(t.components,i[a],u)}else e(t.components,i[a]);o&&(i[o]=i[a])}}))};if(e.outputs&&e.outputs.length>0){for(var s=[],o=0;o<e.outputs.length;o++){var u=e.outputs[o].type,c=e.outputs[o].name?" ".concat(e.outputs[o].name):"";s.push(0===u.indexOf("tuple")?i(e.outputs[o]):u+c)}!function(e){for(var t=0;t<e.length;t++){var r=e[t];/^trcToken/.test(r)&&(e[t]=r.replace(/^trcToken/,"uint256"))}}(s),t&&t.length||(t=new Uint8Array(32*e.outputs.length));var d=he(de.decode(s,t));return a(e.outputs,d),d}return[]}var be=function(){function e(){p()(this,e),_()(this,"_keyStr","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")}return y()(e,[{key:"encode",value:function(e){for(var t,r,n,i,a,s,o,u="",c=0;c<e.length;)i=(t=e.charCodeAt(c++))>>2,a=(3&t)<<4|(r=e.charCodeAt(c++))>>4,s=(15&r)<<2|(n=e.charCodeAt(c++))>>6,o=63&n,isNaN(r)?s=o=64:isNaN(n)&&(o=64),u+=this._keyStr.charAt(i)+this._keyStr.charAt(a)+this._keyStr.charAt(s)+this._keyStr.charAt(o);return u}},{key:"encodeIgnoreUtf8",value:function(e){for(var t,r,n,i,a,s,o,u="",c=0;c<e.length;)i=(t=e[c++])>>2,a=(3&t)<<4|(r=e[c++])>>4,s=(15&r)<<2|(n=e[c++])>>6,o=63&n,isNaN(r)?s=o=64:isNaN(n)&&(o=64),u=u+this._keyStr.charAt(i)+this._keyStr.charAt(a)+this._keyStr.charAt(s)+this._keyStr.charAt(o);return u}},{key:"decode",value:function(e){var t,r,n,i,a,s,o="",u=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");u<e.length;)t=this._keyStr.indexOf(e.charAt(u++))<<2|(i=this._keyStr.indexOf(e.charAt(u++)))>>4,r=(15&i)<<4|(a=this._keyStr.indexOf(e.charAt(u++)))>>2,n=(3&a)<<6|(s=this._keyStr.indexOf(e.charAt(u++))),o+=String.fromCharCode(t),64!==a&&(o+=String.fromCharCode(r)),64!==s&&(o+=String.fromCharCode(n));return this._utf8_decode(o)}},{key:"decodeToByteArray",value:function(e){var t,r,n,i,a,s,o="",u=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");u<e.length;)t=this._keyStr.indexOf(e.charAt(u++))<<2|(i=this._keyStr.indexOf(e.charAt(u++)))>>4,r=(15&i)<<4|(a=this._keyStr.indexOf(e.charAt(u++)))>>2,n=(3&a)<<6|(s=this._keyStr.indexOf(e.charAt(u++))),o+=String.fromCharCode(t),64!==a&&(o+=String.fromCharCode(r)),64!==s&&(o+=String.fromCharCode(n));return this._out2ByteArray(o)}},{key:"_out2ByteArray",value:function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}},{key:"_utf8_encode",value:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}},{key:"_utf8_decode",value:function(e){for(var t="",r=0,n=0,i=0,a=0;r<e.length;)(n=e.charCodeAt(r))<128?(t+=String.fromCharCode(n),r++):n>191&&n<224?(i=e.charCodeAt(r+1),t+=String.fromCharCode((31&n)<<6|63&i),r+=2):(i=e.charCodeAt(r+1),a=e.charCodeAt(r+2),t+=String.fromCharCode((15&n)<<12|(63&i)<<6|63&a),r+=3);return t}}]),e}();function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function we(e){if("number"!=typeof e)throw new Error("Input must be a number");if(e<0||e>255)throw new Error("Input must be a byte");var t="0123456789ABCDEF";return t.charAt(e>>4)+t.charAt(15&e)}function xe(e){if("string"==typeof e)return e;for(var t="",r=0;r<e.length;r++){var n=e[r].toString(2),i=n.match(/^1+?(?=0)/);if(i&&8===n.length){for(var a=i[0].length,s=e[r].toString(2).slice(7-a),o=1;o<a;o++)s+=e[o+r].toString(2).slice(2);t+=String.fromCharCode(parseInt(s,2)),r+=a-1}else t+=String.fromCharCode(e[r])}return t}function Se(e){for(var t=e.replace(/^0x/,"").split(""),r="",n=0;n<t.length/2;n++){var i="0x".concat(t[2*n]).concat(t[2*n+1]);r+=String.fromCharCode(parseInt(i,16))}return r}function Ie(e){var t,r="",n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ke(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ke(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw a}}}}(e);try{for(n.s();!(t=n.n()).done;)r+=we(t.value)}catch(e){n.e(e)}finally{n.f()}return r}function Ae(e){return(new be).decodeToByteArray(e)}function Pe(e){return(new be).encodeIgnoreUtf8(e)}const _e=require("@babel/runtime/helpers/toConsumableArray");var Te=e.n(_e);const Ne=require("elliptic");for(var We=e.n(Ne),je="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Ee={},Ce=0;Ce<je.length;Ce++)Ee[je.charAt(Ce)]=Ce;function Be(e){if(0===e.length)return"";var t,r,n=[0];for(t=0;t<e.length;t++){for(r=0;r<n.length;r++)n[r]<<=8;n[0]+=e[t];var i=0;for(r=0;r<n.length;++r)n[r]+=i,i=n[r]/58|0,n[r]%=58;for(;i;)n.push(i%58),i=i/58|0}for(t=0;0===e[t]&&t<e.length-1;t++)n.push(0);return n.reverse().map((function(e){return je[e]})).join("")}function Oe(e){if(0===e.length)return new Uint8Array;var t,r,n=[0];for(t=0;t<e.length;t++){var i=e[t];if(!(i in Ee))throw new Error("Non-base58 character");for(r=0;r<n.length;r++)n[r]*=58;n[0]+=Ee[i];var a=0;for(r=0;r<n.length;++r)n[r]+=a,a=n[r]>>8,n[r]&=255;for(;a;)n.push(255&a),a>>=8}for(t=0;"1"===e[t]&&t<e.length-1;t++)n.push(0);return new Uint8Array(n.reverse())}function Re(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return qe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw a}}}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var De=xe;function Ke(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(n){if(e[r]!==t[r])return!1}else if(JSON.stringify(e[r])!==JSON.stringify(t[r]))return!1;return!0}function Ve(e){if("string"!=typeof e)throw new Error("The passed string is not a string");for(var t,r=[],n=e.length,i=0;i<n;i++)(t=e.charCodeAt(i))>=65536&&t<=1114111?(r.push(t>>18&7|240),r.push(t>>12&63|128),r.push(t>>6&63|128),r.push(63&t|128)):t>=2048&&t<=65535?(r.push(t>>12&15|224),r.push(t>>6&63|128),r.push(63&t|128)):t>=128&&t<=2047?(r.push(t>>6&31|192),r.push(63&t|128)):r.push(255&t);return new Uint8Array(r)}function He(e){var t;if(e>="A"&&e<="F"?t=e.charCodeAt(0)-"A".charCodeAt(0)+10:e>="a"&&e<="f"?t=e.charCodeAt(0)-"a".charCodeAt(0)+10:e>="0"&&e<="9"&&(t=e.charCodeAt(0)-"0".charCodeAt(0)),"number"==typeof t)return t;throw new Error("The passed hex char is not a valid hex char")}function Le(e){return e>="A"&&e<="F"||e>="a"&&e<="f"||e>="0"&&e<="9"}function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!=typeof e)throw new Error("The passed string is not a string");t&&e.length%2&&(e="0".concat(e));var r,n=new Uint8Array(e.length/2),i=0,a=0,s=0,o=Re(e);try{for(o.s();!(r=o.n()).done;){var u=r.value;if(!Le(u))throw new Error("The passed hex char is not a valid hex string");i<<=4,i+=He(u),++a%2==0&&(n[s++]=i,i=0)}}catch(e){o.e(e)}finally{o.f()}return n}function Fe(e){if(!/^\d{4}-\d{2}-\d{2}( \d{2}-\d{2}-\d{2}|)/.test(e))throw new Error("The passed date string is not valid");var t=e.split(" "),r=t[0].split("-"),n=parseInt(r[0],10),i=parseInt(r[1],10)-1,a=parseInt(r[2],10);if(t.length>1){var s=t[1].split("-"),o=parseInt(s[0],10),u=parseInt(s[1],10),c=parseInt(s[2],10);return new Date(n,i,a,o,u,c)}return new Date(n,i,a)}function Me(e){return e>="0"&&e<="9"}function ze(e){if(null==e)return-1;if("string"!=typeof e)return-1;if(!e||0===e.length||""===e)return-1;var t=0;if(40===e.length)for(;t<40&&Le(e.charAt(t));t++);if(40===t)return 1;for(t=0;t<e.length&&Me(e.charAt(t));t++);if(t===e.length)return 2;for(t=0;t<e.length;t++)if(e.charAt(t)>" ")return 3;return-1}const Ge=require("@ethersproject/bignumber"),Je=require("@ethersproject/bytes"),$e=require("@ethersproject/keccak256"),Ye=require("@ethersproject/logger"),Xe=require("@ethersproject/properties"),Ze=require("@ethersproject/strings");var Qe=new Ye.Logger("tronweb/hash/5.4.0");function et(e){return Lr.address.toHex(e)}function tt(e){return(0,$e.keccak256)((0,Ze.toUtf8Bytes)(e))}var rt=new Uint8Array(32);rt.fill(0);var nt=Ge.BigNumber.from(-1),it=Ge.BigNumber.from(0),at=Ge.BigNumber.from(1),st=Ge.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ot=(0,Je.hexZeroPad)(at.toHexString(),32),ut=(0,Je.hexZeroPad)(it.toHexString(),32),ct={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},dt=["name","version","chainId","verifyingContract","salt"];function lt(e){return function(t){return"string"!=typeof t&&Qe.throwArgumentError("invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}var ht={name:lt("name"),version:lt("version"),chainId:function(e){try{return Ge.BigNumber.from(e).toString()}catch(e){}return Qe.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return et(e).toLowerCase()}catch(e){}return Qe.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{var t=(0,Je.arrayify)(e);if(32!==t.length)throw new Error("bad length");return(0,Je.hexlify)(t)}catch(e){}return Qe.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function ft(e){var t=e.match(/^(u?)int(\d*)$/);if(t){var r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&Qe.throwArgumentError("invalid numeric width","type",e);var i=st.mask(r?n-1:n),a=r?i.add(at).mul(nt):it;return function(t){var r=Ge.BigNumber.from(t);return(r.lt(a)||r.gt(i))&&Qe.throwArgumentError("value out-of-bounds for ".concat(e),"value",t),(0,Je.hexZeroPad)(r.toTwos(256).toHexString(),32)}}var s=e.match(/^bytes(\d+)$/);if(s){var o=parseInt(s[1]);return(0===o||o>32||s[1]!==String(o))&&Qe.throwArgumentError("invalid bytes width","type",e),function(t){return(0,Je.arrayify)(t).length!==o&&Qe.throwArgumentError("invalid length for ".concat(e),"value",t),function(e){var t=(0,Je.arrayify)(e),r=t.length%32;return r?(0,Je.hexConcat)([t,rt.slice(r)]):(0,Je.hexlify)(t)}(t)}}switch(e){case"trcToken":return ft("uint256");case"address":return function(e){return(0,Je.hexZeroPad)((t=e,Lr.address.toHex(t).replace(M,"0x")),32);var t};case"bool":return function(e){return e?ot:ut};case"bytes":return function(e){return(0,$e.keccak256)(e)};case"string":return function(e){return tt(e)}}return null}function vt(e,t){return"".concat(e,"(").concat(t.map((function(e){var t=e.name;return e.type+" "+t})).join(","),")")}var pt=function(){function e(t){p()(this,e),_()(this,"types",void 0),_()(this,"primaryType",void 0),_()(this,"_types",void 0),_()(this,"_encoderCache",void 0),(0,Xe.defineReadOnly)(this,"types",Object.freeze((0,Xe.deepCopy)(t))),(0,Xe.defineReadOnly)(this,"_encoderCache",{}),(0,Xe.defineReadOnly)(this,"_types",{});var r={},n={},i={};Object.keys(t).forEach((function(e){r[e]={},n[e]=[],i[e]={}}));var a=function(e){var i={};t[e].forEach((function(a){i[a.name]&&Qe.throwArgumentError("duplicate variable name ".concat(JSON.stringify(a.name)," in ").concat(JSON.stringify(e)),"types",t),i[a.name]=!0;var s=a.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===e&&Qe.throwArgumentError("circular type reference to ".concat(JSON.stringify(s)),"types",t),ft(s)||(n[s]||Qe.throwArgumentError("unknown type ".concat(JSON.stringify(s)),"types",t),n[s].push(e),r[e][s]=!0)}))};for(var s in t)a(s);var o=Object.keys(n).filter((function(e){return 0===n[e].length}));for(var u in 0===o.length?Qe.throwArgumentError("missing primary type","types",t):o.length>1&&Qe.throwArgumentError("ambiguous primary types or unused types: ".concat(o.map((function(e){return JSON.stringify(e)})).join(", ")),"types",t),(0,Xe.defineReadOnly)(this,"primaryType",o[0]),function e(a,s){s[a]&&Qe.throwArgumentError("circular type reference to ".concat(JSON.stringify(a)),"types",t),s[a]=!0,Object.keys(r[a]).forEach((function(t){n[t]&&(e(t,s),Object.keys(s).forEach((function(e){i[e][t]=!0})))})),delete s[a]}(this.primaryType,{}),i){var c=Object.keys(i[u]);c.sort(),this._types[u]=vt(u,t[u])+c.map((function(e){return vt(e,t[e])})).join("")}}return y()(e,[{key:"getEncoder",value:function(e){var t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}},{key:"_getEncoder",value:function(e){var t=this,r=ft(e);if(r)return r;var n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){var i=n[1],a=this.getEncoder(i),s=parseInt(n[3]);return function(e){s>=0&&e.length!==s&&Qe.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);var r=e.map(a);return t._types[i]&&(r=r.map($e.keccak256)),(0,$e.keccak256)((0,Je.hexConcat)(r))}}var o=this.types[e];if(o){var u=tt(this._types[e]);return function(e){var r=o.map((function(r){var n=r.name,i=r.type,a=t.getEncoder(i)(e[n]);return t._types[i]?(0,$e.keccak256)(a):a}));return r.unshift(u),(0,Je.hexConcat)(r)}}return Qe.throwArgumentError("unknown type: ".concat(e),"type",e)}},{key:"encodeType",value:function(e){var t=this._types[e];return t||Qe.throwArgumentError("unknown type: ".concat(JSON.stringify(e)),"name",e),t}},{key:"encodeData",value:function(e,t){return this.getEncoder(e)(t)}},{key:"hashStruct",value:function(e,t){return(0,$e.keccak256)(this.encodeData(e,t))}},{key:"encode",value:function(e){return this.encodeData(this.primaryType,e)}},{key:"hash",value:function(e){return this.hashStruct(this.primaryType,e)}},{key:"_visit",value:function(e,t,r){var n=this;if(ft(e))return r(e,t);var i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){var a=i[1],s=parseInt(i[3]);if((!Array.isArray(t)||s>=0&&t.length!==s)&&Qe.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),Array.isArray(t))return t.map((function(e){return n._visit(a,e,r)}))}var o=this.types[e];return o?o.reduce((function(e,i){var a=i.name,s=i.type;return e[a]=n._visit(s,t[a],r),e}),{}):Qe.throwArgumentError("unknown type: ".concat(e),"type",e)}},{key:"visit",value:function(e,t){return this._visit(this.primaryType,e,t)}}],[{key:"from",value:function(t){return new e(t)}},{key:"getPrimaryType",value:function(t){return e.from(t).primaryType}},{key:"hashStruct",value:function(t,r,n){return e.from(r).hashStruct(t,n)}},{key:"hashDomain",value:function(t){var r=[];for(var n in t){var i=ct[n];i||Qe.throwArgumentError("invalid typed-data domain key: ".concat(JSON.stringify(n)),"domain",t),r.push({name:n,type:i})}return r.sort((function(e,t){return dt.indexOf(e.name)-dt.indexOf(t.name)})),e.hashStruct("EIP712Domain",{EIP712Domain:r},t)}},{key:"encode",value:function(t,r,n){return(0,Je.hexConcat)(["0x1901",e.hashDomain(t),e.from(r).hash(n)])}},{key:"hash",value:function(t,r,n){return(0,$e.keccak256)(e.encode(t,r,n))}},{key:"getPayload",value:function(t,r,n){e.hashDomain(t);var i={},a=[];dt.forEach((function(e){var r=t[e];null!=r&&(i[e]=ht[e](r),a.push({name:e,type:ct[e]}))}));var s=e.from(r),o=(0,Xe.shallowCopy)(r);return o.EIP712Domain?Qe.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):o.EIP712Domain=a,s.encode(n),{types:o,domain:i,primaryType:s.primaryType,message:s.visit(n,(function(e,t){if(e.match(/^bytes(\d*)/))return(0,Je.hexlify)((0,Je.arrayify)(t));if(e.match(/^u?int/))return Ge.BigNumber.from(t).toString();switch(e){case"trcToken":return Ge.BigNumber.from(t).toString();case"address":return et(t).toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&Qe.throwArgumentError("invalid string","value",t),t}return Qe.throwArgumentError("unsupported type","type",e)}))}}}]),e}(),gt=We().ec;function yt(e){var t=Ot(Ot(e)).slice(0,4);return Be(t=new Uint8Array([].concat(Te()(e),Te()(t))))}function mt(e){var t="Invalid address provided";if("string"!=typeof e||e.length<=4)throw new Error(t);var r=Oe(e);if(e.length<=4)throw new Error(t);var n=r.slice(-4),i=Ot(Ot(r=r.slice(0,-4))).slice(0,4);if(n.join()===i.join())return r;throw new Error(t)}function bt(e,t){"string"==typeof e&&(e=Ue(e));var r=Ct(Ue(t.txID),e);return Array.isArray(t.signature)?t.signature.includes(r)||t.signature.push(r):t.signature=[r],t}function kt(e){return btoa(String.fromCharCode.apply(String,Te()(e)))}function wt(e,t){return"string"==typeof e&&(e=Ue(e)),Ct(Ot(t),e)}function xt(e,t,r,n){var i=new ce({toHexString:function(){return"0x"+n},value:n}),a=pt.hash(e,t,r),s=i.signDigest(a);return["0x",s.r.substring(2),s.s.substring(2),Number(s.v).toString(16)].join("")}function St(e){throw new Error("Sorry, this function is not supported.")}function It(){for(var e=new gt("secp256k1").genKeyPair().getPrivate().toString("hex");e.length<64;)e="0".concat(e);return Ue(e)}function At(e){65===e.length&&(e=e.slice(1));var t=J(e).toString().substring(2);return Ue(F+t.substring(24))}function Pt(e){return At(Et(e))}function _t(e){var t=Oe(e);if(t.length<=4)return null;var r=t.slice(-4),n=t.slice(0,t.length-4);return Ot(Ot(n)).slice(0,4).join()===r.join()?n:null}function Tt(e){if("string"!=typeof e)return!1;if(34!==e.length)return!1;var t=Oe(e);if(25!==t.length)return!1;if(65!==t[0])return!1;var r=t.slice(21),n=Ot(Ot(t=t.slice(0,21))).slice(0,4);return r.join()===n.join()}function Nt(e){return yt(At(Et(Ae(e))))}function Wt(e){return Ie(At(Et(Ae(e))))}function jt(e){return Pe(At(Et(Ae(e))))}function Et(e){var t=new gt("secp256k1").keyFromPrivate(e,"bytes").getPublic(),r=t.x.toString("hex").padStart(64,"0"),n=t.y.toString("hex").padStart(64,"0");return Ue("04".concat(r).concat(n))}function Ct(e,t){var r=new gt("secp256k1").keyFromPrivate(t,"bytes").sign(e);return r.r.toString("hex").padStart(64,"0")+r.s.toString("hex").padStart(64,"0")+we(r.recoveryParam)}var Bt=Ct;function Ot(e){var t=Ie(e);return Ue($("0x"+t).replace(/^0x/,""))}var Rt=Ot;function qt(e){return yt(Pt(Ae(e)))}function Dt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Ue(e,t),n=Pt(r);return yt(n)}var Kt="Invalid tron path provided";function Vt(){var e=It(),t=Et(e),r=Pt(e);return{privateKey:Ie(e),publicKey:Ie(t),address:{base58:yt(r),hex:Ie(r)}}}function Ht(e){if(Yt.isObject(e)||(e={}),e.path||(e.path=z),!String(e.path).match(/^m\/44'\/195'/))throw new Error(Kt);var t=G.Wallet.createRandom(e);return{mnemonic:t.mnemonic,privateKey:t.privateKey,publicKey:t.publicKey,address:Dt(t.privateKey.replace(/^0x/,""))}}function Lt(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";if(t||(t=z),!String(t).match(/^m\/44'\/195'/))throw new Error(Kt);var n=G.Wallet.fromMnemonic(e,t,r);return{mnemonic:n.mnemonic,privateKey:n.privateKey,publicKey:n.publicKey,address:Dt(n.privateKey.replace(/^0x/,""))}}var Ut="TRON Signed Message:\n";function Ft(e){return"string"==typeof e&&(e=Y(e)),J(se([Y(Ut),Y(String(e.length)),e]))}function Mt(e,t){t.match(/^0x/)||(t="0x"+t);var r=new ce(t),n=Ft(e),i=r.signDigest(n);return ae(i)}function zt(e,t){return t.match(/^0x/)||(t="0x"+t),yt(Ue(Z(Ft(e),t).replace(/^0x/,F)))}function Gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(r),!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $t={isValidURL:function(e){return"string"==typeof e&&U().isURL(e.toString(),{protocols:["http","https"],require_tld:!1})},isObject:function(e){return e===Object(e)&&"[object Array]"!==Object.prototype.toString.call(e)},isArray:function(e){return Array.isArray(e)},isJson:function(e){try{return!!JSON.parse(e)}catch(e){return!1}},isBoolean:function(e){return"boolean"==typeof e},isBigNumber:function(e){return e&&(e instanceof j()||e.constructor&&"BigNumber"===e.constructor.name)},isString:function(e){return"string"==typeof e||e&&e.constructor&&"String"===e.constructor.name},isFunction:function(e){return"function"==typeof e},isHex:function(e){return"string"==typeof e&&!isNaN(parseInt(e,16))&&/^(0x|)[a-fA-F0-9]+$/.test(e)},isInteger:function(e){return null!==e&&Number.isInteger(Number(e))},hasProperty:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},hasProperties:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return!!n.length&&!n.map((function(r){return t.hasProperty(e,r)})).includes(!1)},mapEvent:function(e){var t={block:e.block_number,timestamp:e.block_timestamp,contract:e.contract_address,name:e.event_name,transaction:e.transaction_id,result:e.result,resourceNode:e.resource_Node||(e._unconfirmed?"fullNode":"solidityNode")};return e._unconfirmed&&(t.unconfirmed=e._unconfirmed),e._fingerprint&&(t.fingerprint=e._fingerprint),t},parseEvent:function(e,t){var r=t.inputs;if(!e.result)return e;if(this.isArray(e.result))e.result=e.result.reduce((function(e,t,n){var i=r[n],a=i.name;return"address"===i.type&&(t=F+t.substr(2).toLowerCase()),e[a]=t,e}),{});else if(this.isObject(e.result))for(var n=0;n<r.length;n++){var i=r[n];"address"===i.type&&i.name in e.result&&(e.result[i.name]=F+e.result[i.name].substr(2).toLowerCase())}return e},padLeft:function(e,t,r){for(var n=e.toString();n.length<r;)n=t+n;return n},isNotNullOrUndefined:function(e){return null!=e},sleep:function(){var e=arguments;return l()(N().mark((function t(){var r;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:1e3,t.abrupt("return",new Promise((function(e){return setTimeout(e,r)})));case 2:case"end":return t.stop()}}),t)})))()}};const Yt=Jt(Jt({},$t),{},{code:s,accounts:u,base58:a,bytes:i,crypto:o,abi:n,message:c,_TypedDataEncoder:pt,ethersUtils:r});function Xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(r),!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qt="Smart contract is missing address",er=function(e,t){return me(e,t)},tr=function(e){w()(o,e);var t,r,n,i,a,s=(i=o,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A()(i);if(a){var r=A()(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return S()(this,e)});function o(e,t){var r;return p()(this,o),r=s.call(this,e.tronWeb),_()(b()(r),"contract",void 0),_()(b()(r),"abi",void 0),_()(b()(r),"name",void 0),_()(b()(r),"inputs",void 0),_()(b()(r),"outputs",void 0),_()(b()(r),"functionSelector",void 0),_()(b()(r),"signature",void 0),_()(b()(r),"defaultOptions",void 0),r.contract=e,r.abi=t,r.name=t.name||(t.name=t.type),r.inputs=t.inputs||[],r.outputs=t.outputs||[],r.functionSelector=function(e){if(e.stateMutability=e.stateMutability?e.stateMutability.toLowerCase():"nonpayable",e.type=e.type?e.type.toLowerCase():"","fallback"===e.type||"receive"===e.type)return"0x";var t=new Yt.ethersUtils.Interface([e]);return"event"===e.type?t.getEvent(e.name).format(Yt.ethersUtils.FormatTypes.sighash):t.getFunction(e.name).format(Yt.ethersUtils.FormatTypes.sighash)}(t),r.signature=r.tronWeb.sha3(r.functionSelector,!1).slice(0,8),r.defaultOptions={feeLimit:r.tronWeb.feeLimit,callValue:0,userFeePercentage:100,shouldPollResponse:!1},r}return y()(o,[{key:"decodeInput",value:function(e){return er(this.inputs,"0x"+e)}},{key:"onMethod",value:function(){for(var e=this,t="",r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.abi&&!/event/i.test(this.abi.type)&&(t=ye(this.abi,n)),{call:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return r=Zt(Zt({},r),{},{rawParameter:t}),e._call([],[],r,n)},send:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.tronWeb.defaultPrivateKey,i=arguments.length>2?arguments[2]:void 0;return r=Zt(Zt({},r),{},{rawParameter:t}),e._send([],[],r,n,i)},watch:this._watch=this._watch.bind(this)}}},{key:"_call",value:(n=l()(N().mark((function e(t,r){var n,i,a,s,o,u=this,c=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>2&&void 0!==c[2]?c[2]:{},i=c.length>3?c[3]:void 0){e.next=4;break}return e.abrupt("return",this.injectPromise(this._call,t,r,n));case 4:if(t.length===r.length){e.next=6;break}return e.abrupt("return",i("Invalid argument count provided"));case 6:if(this.contract.address){e.next=8;break}return e.abrupt("return",i(Qt));case 8:if(this.contract.deployed){e.next=10;break}return e.abrupt("return",i("Calling smart contracts requires you to load the contract first"));case 10:if(a=this.abi.stateMutability,["pure","view"].includes(a.toLowerCase())){e.next=13;break}return e.abrupt("return",i('Methods with state mutability "'.concat(a,'" must use send()')));case 13:s=Zt(Zt(Zt({},this.defaultOptions),{},{from:this.tronWeb.defaultAddress.hex},n),{},{_isConstant:!0}),o=r.map((function(e,r){return{type:t[r],value:e}})),this.tronWeb.transactionBuilder.triggerConstantContract(this.contract.address,this.functionSelector,s,o,s.from?this.tronWeb.address.toHex(s.from):void 0,(function(e,t){if(e)return i(e);if(!t||!Yt.hasProperty(t,"constant_result"))return i("Failed to execute");try{var r=t.constant_result[0].length;if(0===r||r%64==8){var n="The call has been reverted or has thrown an error.";if(0!==r){n+=" Error message: ";for(var a="",s=t.constant_result[0].substring(8),o=0;o<r-8;o+=64)a+=u.tronWeb.toUtf8(s.substring(o,o+64));n+=a.replace(/(\u0000|\u000b|\f)+/g," ").replace(/ +/g," ").replace(/\s+$/g,"")}return i(n)}var c=er(u.abi,"0x"+t.constant_result[0]);return 1===c.length&&1===Object.keys(c).length&&(c=c[0]),i(null,c)}catch(e){return i(e)}}));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"_send",value:(r=l()(N().mark((function e(t,r){var n,i,a,s,o,u,c,d,h,f,v,p,g,y,m,b,k=this,w=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=w.length>2&&void 0!==w[2]?w[2]:{},i=w.length>3&&void 0!==w[3]?w[3]:this.tronWeb.defaultPrivateKey,a=w.length>4?w[4]:void 0){e.next=5;break}return e.abrupt("return",this.injectPromise(this._send,t,r,n,i));case 5:if(t.length===r.length){e.next=7;break}throw new Error("Invalid argument count provided");case 7:if(this.contract.address){e.next=9;break}return e.abrupt("return",a(Qt));case 9:if(this.contract.deployed){e.next=11;break}return e.abrupt("return",a("Calling smart contracts requires you to load the contract first"));case 11:if(s=this.abi.stateMutability,!["pure","view"].includes(s.toLowerCase())){e.next=14;break}return e.abrupt("return",a('Methods with state mutability "'.concat(s,'" must use call()')));case 14:return["payable"].includes(s.toLowerCase())||(n.callValue=0),o=Zt(Zt({},this.defaultOptions),{},{from:this.tronWeb.defaultAddress.hex},n),u=r.map((function(e,r){return{type:t[r],value:e}})),e.prev=17,c=i?this.tronWeb.address.fromPrivateKey(i):this.tronWeb.defaultAddress.base58,e.next=21,this.tronWeb.transactionBuilder.triggerSmartContract(this.contract.address,this.functionSelector,o,u,this.tronWeb.address.toHex(c));case 21:if((d=e.sent).result&&d.result.result){e.next=24;break}return e.abrupt("return",a("Unknown error: "+JSON.stringify(d,null,2)));case 24:return e.next=26,this.tronWeb.trx.sign(d.transaction,i);case 26:if((h=e.sent).signature){e.next=31;break}if(i){e.next=30;break}return e.abrupt("return",a("Transaction was not signed properly"));case 30:return e.abrupt("return",a("Invalid private key provided"));case 31:return e.next=33,this.tronWeb.trx.sendRawTransaction(h);case 33:if(!(f=e.sent).code){e.next=38;break}return v={error:f.code,message:f.code},f.message&&(v.message=this.tronWeb.toUtf8(f.message)),e.abrupt("return",a(v));case 38:if(o.shouldPollResponse){e.next=40;break}return e.abrupt("return",a(null,h.txID));case 40:p=n.maxRetries,g=void 0===p?20:p,y=n.pollingInterval,m=void 0===y?3e3:y,b=function(){var e=l()(N().mark((function e(){var t,r,n,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=i.length>0&&void 0!==i[0]?i[0]:0)!==g-1){e.next=3;break}return e.abrupt("return",a({error:"Cannot find result in solidity node",transaction:h}));case 3:return e.next=5,k.tronWeb.trx.getTransactionInfo(h.txID);case 5:if(r=e.sent,Object.keys(r).length){e.next=8;break}return e.abrupt("return",setTimeout((function(){b(t+1)}),m));case 8:if(!("result"in r)||"FAILED"!==r.result){e.next=10;break}return e.abrupt("return",a({error:k.tronWeb.toUtf8(r.resMessage),transaction:h,output:r}));case 10:if(Yt.hasProperty(r,"contractResult")){e.next=12;break}return e.abrupt("return",a({error:"Failed to execute: "+JSON.stringify(r,null,2),transaction:h,output:r}));case 12:if(!o.rawResponse){e.next=14;break}return e.abrupt("return",a(null,r));case 14:if(1===(n=er(k.abi,"0x"+r.contractResult[0])).length&&1===Object.keys(n).length&&(n=n[0]),!o.keepTxID){e.next=18;break}return e.abrupt("return",a(null,[h.txID,n]));case 18:return e.abrupt("return",a(null,n));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b(),e.next=48;break;case 45:return e.prev=45,e.t0=e.catch(17),e.abrupt("return",a(e.t0));case 48:case"end":return e.stop()}}),e,this,[[17,45]])}))),function(e,t){return r.apply(this,arguments)})},{key:"_watch",value:(t=l()(N().mark((function e(){var t,r,n,i,a,s,o,u=this,c=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},r=c.length>1?c[1]:void 0,Yt.isFunction(r)){e.next=4;break}throw new Error("Expected callback to be provided");case 4:if(this.contract.address){e.next=6;break}return e.abrupt("return",r(Qt));case 6:if(this.abi.type&&/event/i.test(this.abi.type)){e.next=8;break}return e.abrupt("return",r("Invalid method type for event watching"));case 8:if(this.tronWeb.eventServer){e.next=10;break}return e.abrupt("return",r("No event server configured"));case 10:return n=null,i=null,a=Date.now()-1e3,s=function(){var e=l()(N().mark((function e(){var r,n,s,o,c,d;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.contract.address){e.next=2;break}throw new Error(Qt);case 2:return e.prev=2,r={since:a,eventName:u.name,sort:"block_timestamp",blockNumber:"latest",filters:t.filters},t.size&&(r.size=t.size),t.resourceNode&&(/full/i.test(t.resourceNode)?r.onlyUnconfirmed=!0:r.onlyConfirmed=!0),e.next=8,u.tronWeb.event.getEventsByContractAddress(u.contract.address,r);case 8:return n=e.sent,s=n.sort((function(e,t){return t.block-e.block})),o=V()(s,1),c=o[0],d=n.filter((function(e,r){return!(t.resourceNode&&e.resourceNode&&t.resourceNode.toLowerCase()!==e.resourceNode.toLowerCase()||n.slice(0,r).some((function(t){return JSON.stringify(t)===JSON.stringify(e)}))||i&&!(e.block>i))})),c&&(i=c.block),e.abrupt("return",d);case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",Promise.reject(e.t0));case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),o=function(){n&&clearInterval(n),n=setInterval((function(){s().then((function(e){return e.forEach((function(e){r(null,Yt.parseEvent(e,u.abi))}))})).catch((function(e){return r(e)}))}),3e3)},e.next=17,s();case 17:return o(),e.abrupt("return",{start:o,stop:function(){n&&(clearInterval(n),n=null)}});case 19:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),o}(H);function rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=A()(e);if(t){var i=A()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return S()(this,r)}}var nr=function(e){w()(r,e);var t=rr(r);function r(){return p()(this,r),t.apply(this,arguments)}return y()(r)}(function(e){w()(s,e);var t,r,n,i,a=rr(s);function s(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return p()(this,s),t=a.call(this,e),_()(b()(t),"address",void 0),_()(b()(t),"abi",void 0),_()(b()(t),"eventListener",void 0),_()(b()(t),"eventCallback",void 0),_()(b()(t),"bytecode",void 0),_()(b()(t),"deployed",void 0),_()(b()(t),"lastBlock",void 0),_()(b()(t),"methods",void 0),_()(b()(t),"methodInstances",void 0),_()(b()(t),"props",void 0),t.address=n||null,t.abi=r,t.eventListener=null,t.eventCallback=null,t.bytecode=null,t.deployed=!1,t.lastBlock=null,t.methods={},t.methodInstances={},t.props=[],t.tronWeb.isAddress(n)?t.deployed=!0:t.address=null,t.loadAbi(r),S()(t,b()(t))}return y()(s,[{key:"_getEvents",value:(i=l()(N().mark((function e(){var t,r,n,i,a,s,o=this,u=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{},this.address){e.next=3;break}throw new Error("Contract is not configured with an address");case 3:if(!t.rawResponse){e.next=5;break}throw new Error("Cannot parse raw response here.");case 5:return e.next=7,this.tronWeb.event.getEventsByContractAddress(this.address,t);case 7:return r=e.sent,n=r.sort((function(e,t){return t.block-e.block})),i=V()(n,1),a=i[0],s=r.filter((function(e,n){return!(t.resourceNode&&e.resourceNode&&t.resourceNode.toLowerCase()!==e.resourceNode.toLowerCase()||r.slice(0,n).some((function(t){return JSON.stringify(t)===JSON.stringify(e)}))||o.lastBlock&&!(e.block>o.lastBlock))})),a&&(this.lastBlock=a.block),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"_startEventListener",value:(n=l()(N().mark((function e(){var t,r,n=this,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},r=i.length>1?i[1]:void 0,this.eventListener&&clearInterval(this.eventListener),this.tronWeb.eventServer){e.next=5;break}throw new Error("Event server is not configured");case 5:if(this.address){e.next=7;break}throw new Error("Contract is not configured with an address");case 7:return this.eventCallback=r,e.next=10,this._getEvents(t);case 10:this.eventListener=setInterval((function(){n._getEvents(t).then((function(e){return e.forEach((function(e){n.eventCallback&&n.eventCallback(e)}))})).catch((function(e){console.error("Failed to get event list",e)}))}),3e3);case 11:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"_stopEventListener",value:function(){this.eventListener&&(clearInterval(this.eventListener),this.eventListener=null,this.eventCallback=null)}},{key:"hasProperty",value:function(e){return Object.prototype.hasOwnProperty.call(this,e)||this.__proto__.hasOwnProperty(e)}},{key:"loadAbi",value:function(e){var t=this;this.abi=e,this.methods={},this.props.forEach((function(e){return delete t[e]})),e.forEach((function(e){if(e.type&&!/constructor/i.test(e.type)&&"event"!==e.type&&"error"!==e.type){var r=new tr(t,e),n=r.onMethod.bind(r),i=r.name,a=r.functionSelector,s=r.signature;t.methods[i]=n,t.methods[a]=n,t.methods[s]=n,t.methodInstances[i]=r,t.methodInstances[a]=r,t.methodInstances[s]=r,t.hasProperty(i)||(t[i]=n,t.props.push(i)),t.hasProperty(a)||(t[a]=n,t.props.push(a)),t.hasProperty(s)||(t[s]=n,t.props.push(s))}}))}},{key:"decodeInput",value:function(e){var t=e.substring(0,8),r=e.substring(8);if(!this.methodInstances[t])throw new Error("Contract method "+t+" not found");return{name:this.methodInstances[t].name,params:this.methodInstances[t].decodeInput(r)}}},{key:"new",value:(r=l()(N().mark((function e(t){var r,n,i,a,s,o,u=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:this.tronWeb.defaultPrivateKey,n=u.length>2?u[2]:void 0){e.next=4;break}return e.abrupt("return",this.injectPromise(this.new,t,r));case 4:if(e.prev=4,i=this.tronWeb.address.fromPrivateKey(r)){e.next=8;break}return e.abrupt("return",n("Invalid privateKey provided!"));case 8:return e.next=10,this.tronWeb.transactionBuilder.createSmartContract(t,i);case 10:return a=e.sent,e.next=13,this.tronWeb.trx.sign(a,r);case 13:return s=e.sent,e.next=16,this.tronWeb.trx.sendRawTransaction(s);case 16:if(!(o=e.sent).code){e.next=19;break}return e.abrupt("return",n({error:o.code,message:this.tronWeb.toUtf8(o.message)}));case 19:return e.next=21,Yt.sleep(3e3);case 21:return e.abrupt("return",this.at(s.contract_address,n));case 24:return e.prev=24,e.t0=e.catch(4),e.abrupt("return",n(e.t0));case 27:case"end":return e.stop()}}),e,this,[[4,24]])}))),function(e){return r.apply(this,arguments)})},{key:"at",value:(t=l()(N().mark((function e(t,r){var n,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",this.injectPromise(this.at,t));case 2:return e.prev=2,e.next=5,this.tronWeb.trx.getContract(t);case 5:if((i=e.sent).contract_address){e.next=8;break}return e.abrupt("return",r("Unknown error: "+JSON.stringify(i,null,2)));case 8:return this.address=i.contract_address,this.bytecode=i.bytecode,this.deployed=!0,this.loadAbi(null!==(n=i.abi)&&void 0!==n&&n.entrys?i.abi.entrys:[]),e.abrupt("return",r(null,this));case 15:if(e.prev=15,e.t0=e.catch(2),null===e.t0||void 0===e.t0||!e.t0.toString||!e.t0.toString().includes("does not exist")){e.next=19;break}return e.abrupt("return",r("Contract has not been deployed on the network"));case 19:return e.abrupt("return",r(e.t0));case 20:case"end":return e.stop()}}),e,this,[[2,15]])}))),function(e,r){return t.apply(this,arguments)})},{key:"events",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!Yt.isFunction(t))throw new Error("Callback function expected");var r=this;return{start:function(n){return n?(r._startEventListener(e,t).then((function(){n()})).catch((function(e){n(e)})),this):(r._startEventListener(e,t),this)},stop:function(){r._stopEventListener()}}}}]),s}(H));const ir=require("querystring");var ar=e.n(ir);const sr=require("axios");var or=e.n(sr),ur=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"/";if(p()(this,e),_()(this,"host",void 0),_()(this,"timeout",void 0),_()(this,"user",void 0),_()(this,"password",void 0),_()(this,"headers",void 0),_()(this,"statusPage",void 0),_()(this,"instance",void 0),!Yt.isValidURL(t))throw new Error("Invalid URL provided to HttpProvider");if(isNaN(r)||r<0)throw new Error("Invalid timeout duration provided");if(!Yt.isObject(a))throw new Error("Invalid headers object provided");t=t.replace(/\/+$/,""),this.host=t,this.timeout=r,this.user=n,this.password=i,this.headers=a,this.statusPage=s,this.instance=or().create({baseURL:t,timeout:r,headers:a,auth:n&&i?{username:n,password:i}:void 0})}var t;return y()(e,[{key:"setStatusPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";this.statusPage=e}},{key:"isConnected",value:(t=l()(N().mark((function e(){var t,r=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:this.statusPage,e.abrupt("return",this.request(t).then((function(e){return Yt.hasProperties(e,"blockID","block_header")})).catch((function(){return!1})));case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get";return r=r.toLowerCase(),this.instance.request({data:"post"===r&&Object.keys(t).length?t:null,params:"get"===r&&t,url:e,method:r}).then((function(e){return e.data}))}}]),e}();const cr={HttpProvider:ur};var dr=function(e){w()(i,e);var t,r,n=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=A()(t);if(r){var i=A()(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return S()(this,e)});function i(){return p()(this,i),n.apply(this,arguments)}return y()(i,[{key:"setServer",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"healthcheck";if(!e)return this.tronWeb.eventServer=void 0;if(Yt.isString(e)&&(e=new ur(e)),!this.tronWeb.isValidProvider(e))throw new Error("Invalid event server provided");this.tronWeb.eventServer=e,this.tronWeb.eventServer.isConnected=function(){return t.tronWeb.eventServer.request(r).then((function(){return!0})).catch((function(){return!1}))}}},{key:"getEventsByContractAddress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=Object.assign({sinceTimestamp:0,eventName:!1,blockNumber:!1,size:20,page:1},t),i=n.sinceTimestamp,a=n.since,s=n.fromTimestamp,o=n.eventName,u=n.blockNumber,c=n.size,d=n.page,l=n.onlyConfirmed,h=n.onlyUnconfirmed,v=n.previousLastEventFingerprint,p=n.previousFingerprint,g=n.fingerprint,y=n.rawResponse,m=n.sort,b=n.filters;if(!r)return this.injectPromise(this.getEventsByContractAddress,e,t);if(s=s||i||a,!this.tronWeb.eventServer)return r("No event server configured");var k=[];if(!this.tronWeb.isAddress(e))return r("Invalid contract address provided");if(o&&!e)return r("Usage of event name filtering requires a contract address");if(void 0!==s&&!Yt.isInteger(s))return r("Invalid fromTimestamp provided");if(!Yt.isInteger(c))return r("Invalid size provided");if(c>200&&(console.warn("Defaulting to maximum accepted size: 200"),c=200),!Yt.isInteger(d))return r("Invalid page provided");if(u&&!o)return r("Usage of block number filtering requires an event name");e&&k.push(this.tronWeb.address.fromHex(e)),o&&k.push(o),u&&k.push(u);var w={size:c,page:d};return null!=b&&"object"===f()(b)&&Object.keys(b).length>0&&(w.filters=JSON.stringify(b)),s&&(w.fromTimestamp=w.since=s),l&&(w.only_confirmed=l),h&&!l&&(w.only_unconfirmed=h),m&&(w.sort=m),(g=g||p||v)&&(w.fingerprint=g),this.tronWeb.eventServer.request("event/contract/".concat(k.join("/"),"?").concat(ar().stringify(w))).then((function(e){return e?Yt.isArray(e)?r(null,y?e:e.map((function(e){return Yt.mapEvent(e)}))):r(e):r("Unknown error occurred")})).catch((function(e){return r(e.response&&e.response.data||e)}))}},{key:"getEventsByTransactionID",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return r&&Yt.isFunction(r)?this.tronWeb.eventServer?this.tronWeb.eventServer.request("event/transaction/".concat(e)).then((function(e){return r?e?Yt.isArray(e)?r(null,!0===t.rawResponse?e:e.map((function(e){return Yt.mapEvent(e)}))):r(e):r("Unknown error occurred"):null})).catch((function(e){return r&&r(e.response&&e.response.data||e)})):r("No event server configured"):this.injectPromise(this.getEventsByTransactionID,e,t)}}]),i}(H),lr=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(p()(this,e),_()(this,"tronWeb",void 0),_()(this,"pluginNoOverride",void 0),_()(this,"disablePlugins",void 0),!(t&&t instanceof Lr))throw new Error("Expected instance of TronWeb");this.tronWeb=t,this.pluginNoOverride=["register"],this.disablePlugins=r.disablePlugins}return y()(e,[{key:"register",value:function(e,t){var r={requires:"0.0.0",components:{}},n={libs:[],plugged:[],skipped:[]};if(this.disablePlugins)return n.error="This instance of TronWeb has plugins disabled.",n;var i=new e(this.tronWeb);if(Yt.isFunction(i.pluginInterface)&&(r=i.pluginInterface(t)),r.requires&&!q().satisfies(Lr.version,r.requires))throw new Error("The plugin is not compatible with this version of TronWeb");if(r.fullClass){var a=i.constructor.name,s=a.substring(0,1).toLowerCase()+a.substring(1);a!==s&&(Lr[a]=e,this.tronWeb[s]=i,n.libs.push(a))}else for(var o in r.components)if(Object.prototype.hasOwnProperty.call(this.tronWeb,o)){var u=r.components[o],c=this.tronWeb[o].pluginNoOverride||[];for(var d in u)"constructor"===d||this.tronWeb[o][d]&&(c.includes(d)||/^_/.test(d))?n.skipped.push(d):(this.tronWeb[o][d]=u[d].bind(this.tronWeb[o]),n.plugged.push(d))}return n}}]),e}();function hr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return fr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw a}}}}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vr(e,t){var r=t.gt,n=t.lt,i=t.gte,a=t.lte;return!("number"==typeof r&&e<=r||"number"==typeof n&&e>=n||"number"==typeof i&&e<i||"number"==typeof a&&e>a)}var pr=function(){function e(t){if(p()(this,e),_()(this,"tronWeb",void 0),!(t&&t instanceof Lr))throw new Error("Expected instance of TronWeb");this.tronWeb=t}return y()(e,[{key:"invalid",value:function(e){return"name"in e?e.msg||"Invalid ".concat(e.name).concat("address"===e.type?" address":""," provided"):e.msg}},{key:"notPositive",value:function(e){return"".concat(e.name," must be a positive integer")}},{key:"notEqual",value:function(e){return e.msg||"".concat(e.names[0]," can not be equal to ").concat(e.names[1])}},{key:"notValid",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Function,n={},i=!1,a=hr(t);try{for(a.s();!(e=a.n()).done;){var s=e.value,o=s.value,u=s.type,c=s.optional;if(!c||Yt.isNotNullOrUndefined(o)&&("boolean"===u||!1!==o)){switch("name"in s&&(n[s.name]=o),s.type){case"address":this.tronWeb.isAddress(o)?n[s.name]=this.tronWeb.address.toHex(o):i=!0;break;case"integer":Yt.isInteger(o)&&vr(o,s)||(i=!0);break;case"positive-integer":if(!Yt.isInteger(o)||o<=0)return void r(this.notPositive(s));break;case"tokenId":case"not-empty-string":Yt.isString(o)&&o.length||(i=!0);break;case"notEmptyObject":Yt.isObject(o)&&Object.keys(o).length||(i=!0);break;case"notEqual":if(n[s.names[0]]===n[s.names[1]])return r(this.notEqual(s)),!0;break;case"resource":["BANDWIDTH","ENERGY"].includes(o)||(i=!0);break;case"url":Yt.isValidURL(o)||(i=!0);break;case"hex":Yt.isHex(o)||(i=!0);break;case"array":Array.isArray(o)||(i=!0);break;case"boolean":Yt.isBoolean(o)||(i=!0);break;case"string":Yt.isString(o)&&vr(o.length,s)||(i=!0)}if(i)return r(this.invalid(s)),!0}}}catch(e){a.e(e)}finally{a.f()}return!1}}]),e}();function gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(r),!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mr="Invalid transaction provided",br=function(){function e(t,r,n,i){var a=this;p()(this,e),_()(this,"mainchain",void 0),_()(this,"sidechain",void 0),_()(this,"isAddress",void 0),_()(this,"utils",void 0),_()(this,"injectPromise",void 0),_()(this,"validator",void 0),_()(this,"mainGatewayAddress",void 0),_()(this,"sideGatewayAddress",void 0),_()(this,"chainId",void 0),_()(this,"depositTrc721",function(){var e=l()(N().mark((function e(t,r,n,i){var s,o,u,c,d=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=d.length>4&&void 0!==d[4]?d[4]:{},o=d.length>5&&void 0!==d[5]?d[5]:a.mainchain.defaultPrivateKey,u=d.length>6?d[6]:void 0,c="depositTRC721",e.abrupt("return",a.depositTrc(c,t,r,n,i,s,o,u));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,i){return e.apply(this,arguments)}}()),_()(this,"mappingTrc721",function(){var e=l()(N().mark((function e(t,r,n){var i,s,o,u,c=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]?c[3]:{},s=c.length>4&&void 0!==c[4]?c[4]:a.mainchain.defaultPrivateKey,o=c.length>5?c[5]:void 0,u="mappingTRC721",e.abrupt("return",a.mappingTrc(t,r,n,u,i,s,o));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),_()(this,"retryDeposit",function(){var e=l()(N().mark((function e(t,r,n){var i,s,o,u,c=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]?c[3]:{},s=c.length>4&&void 0!==c[4]?c[4]:a.mainchain.defaultPrivateKey,o=c.length>5?c[5]:void 0,u="retryDeposit",e.abrupt("return",a.depositTrc(u,t,r,n,a.mainGatewayAddress,i,s,o));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),_()(this,"retryMapping",function(){var e=l()(N().mark((function e(t,r,n){var i,s,o,u,c=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]?c[3]:{},s=c.length>4&&void 0!==c[4]?c[4]:a.mainchain.defaultPrivateKey,o=c.length>5?c[5]:void 0,u="retryMapping",e.abrupt("return",a.depositTrc(u,t,r,n,a.mainGatewayAddress,i,s,o));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),this.mainchain=n;var s=t.mainGatewayAddress,o=t.sideGatewayAddress,u=t.sideChainId;this.sidechain="fullHost"in t?new r(t.fullHost,t.fullHost,t.fullHost,i):new r(t.fullNode,t.solidityNode,t.eventServer,i),this.isAddress=this.mainchain.isAddress,this.utils=this.mainchain.utils,this.setMainGatewayAddress(s),this.setSideGatewayAddress(o),this.setChainId(u),this.injectPromise=O()(this),this.validator=new pr(this.sidechain);var c=this;this.sidechain.trx.sign=function(){return c.sign.apply(c,arguments)},this.sidechain.trx.multiSign=function(){return c.multiSign.apply(c,arguments)}}var t,r,n,i,a,s,o,u,c,d,h,f,v,g,m,b,k;return y()(e,[{key:"setMainGatewayAddress",value:function(e){if(!this.isAddress(e))throw new Error("Invalid main gateway address provided");this.mainGatewayAddress=e}},{key:"setSideGatewayAddress",value:function(e){if(!this.isAddress(e))throw new Error("Invalid side gateway address provided");this.sideGatewayAddress=e}},{key:"setChainId",value:function(e){if(!this.utils.isString(e)||!e)throw new Error("Invalid side chainId provided");this.chainId=e}},{key:"signTransaction",value:function(e,t){"string"==typeof e&&(e=this.utils.code.hexStr2byteArray(e));var r=this.utils.code.hexStr2byteArray(this.chainId),n=this.utils.code.hexStr2byteArray(t.txID),i=new Uint8Array([].concat(Te()(n),Te()(r))),a=this.sidechain.utils.ethersUtils.sha256(i),s=this.utils.crypto.ECKeySign(this.utils.code.hexStr2byteArray(a.replace(/^0x/,"")),e);return Array.isArray(t.signature)?t.signature.includes(s)||t.signature.push(s):t.signature=[s],t}},{key:"multiSign",value:(k=l()(N().mark((function e(t){var r,n,i,a,s,o,u=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:this.sidechain.defaultPrivateKey,n=u.length>2?u[2]:void 0,i=u.length>3?u[3]:void 0){e.next=5;break}return e.abrupt("return",this.injectPromise(this.multiSign,t,r,n));case 5:if(this.utils.isObject(t)&&t.raw_data&&t.raw_data.contract){e.next=7;break}return e.abrupt("return",i(mr));case 7:if(!(!t.raw_data.contract[0].Permission_id&&n&&n>0)){e.next=27;break}return t.raw_data.contract[0].Permission_id=n,a=this.sidechain.address.toHex(this.sidechain.address.fromPrivateKey(r)).toLowerCase(),e.next=12,this.sidechain.trx.getSignWeight(t,n);case 12:if("PERMISSION_ERROR"!==(s=e.sent).result.code){e.next=15;break}return e.abrupt("return",i(s.result.message));case 15:if(o=!1,s.permission&&s.permission.keys.map((function(e){e.address===a&&(o=!0)})),o){e.next=19;break}return e.abrupt("return",i(r+" has no permission to sign"));case 19:if(!s.approved_list||-1===s.approved_list.indexOf(a)){e.next=21;break}return e.abrupt("return",i(r+" already sign transaction"));case 21:if(!s.transaction||!s.transaction.transaction){e.next=26;break}(t=s.transaction.transaction).raw_data.contract[0].Permission_id=n,e.next=27;break;case 26:return e.abrupt("return",i(mr));case 27:return e.prev=27,e.abrupt("return",i(null,this.signTransaction(r,t)));case 31:e.prev=31,e.t0=e.catch(27),i(e.t0);case 34:case"end":return e.stop()}}),e,this,[[27,31]])}))),function(e){return k.apply(this,arguments)})},{key:"sign",value:(b=l()(N().mark((function e(t){var r,n,i,a,s,o=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:this.sidechain.defaultPrivateKey,n=!(o.length>2&&void 0!==o[2])||o[2],i=o.length>3&&void 0!==o[3]&&o[3],a=o.length>4?o[4]:void 0){e.next=6;break}return e.abrupt("return",this.injectPromise(this.sign,t,r,n,i));case 6:if(!this.utils.isString(t)){e.next=18;break}if(this.utils.isHex(t)){e.next=9;break}return e.abrupt("return",a("Expected hex message input"));case 9:return e.prev=9,s=this.sidechain.trx.signString(t,r,n),e.abrupt("return",a(null,s));case 14:e.prev=14,e.t0=e.catch(9),a(e.t0);case 17:return e.abrupt("return");case 18:if(this.utils.isObject(t)){e.next=20;break}return e.abrupt("return",a(mr));case 20:if(i||!t.signature){e.next=22;break}return e.abrupt("return",a("Transaction is already signed"));case 22:if(e.prev=22,i){e.next=27;break}if(this.sidechain.address.toHex(this.sidechain.address.fromPrivateKey(r)).toLowerCase()===this.sidechain.address.toHex(t.raw_data.contract[0].parameter.value.owner_address)){e.next=27;break}return e.abrupt("return",a("Private key does not match address in transaction"));case 27:return e.abrupt("return",a(null,this.signTransaction(r,t)));case 30:e.prev=30,e.t1=e.catch(22),a(e.t1);case 33:case"end":return e.stop()}}),e,this,[[9,14],[22,30]])}))),function(e){return b.apply(this,arguments)})},{key:"depositTrx",value:(m=l()(N().mark((function e(t,r,n){var i,a,s,o,u,c=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=c.length>3&&void 0!==c[3]?c[3]:{},a=c.length>4&&void 0!==c[4]?c[4]:this.mainchain.defaultPrivateKey,s=c.length>5?c[5]:void 0){e.next=5;break}return e.abrupt("return",this.injectPromise(this.depositTrx,t,r,n,i,a));case 5:if(!this.validator.notValid([{name:"callValue",type:"integer",value:t,gte:0},{name:"depositFee",type:"integer",value:r,gte:0},{name:"feeLimit",type:"integer",value:n,gte:0}],s)){e.next=7;break}return e.abrupt("return");case 7:return i=yr({callValue:Number(t)+Number(r),feeLimit:n},i),e.prev=8,e.next=11,this.mainchain.contract().at(this.mainGatewayAddress);case 11:return o=e.sent,e.next=14,o.depositTRX().send(i,a);case 14:return u=e.sent,e.abrupt("return",s(null,u));case 18:return e.prev=18,e.t0=e.catch(8),e.abrupt("return",s(e.t0));case 21:case"end":return e.stop()}}),e,this,[[8,18]])}))),function(e,t,r){return m.apply(this,arguments)})},{key:"depositTrc10",value:(g=l()(N().mark((function e(t,r,n,i){var a,s,o,u,c,d=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>4&&void 0!==d[4]?d[4]:{},s=d.length>5&&void 0!==d[5]?d[5]:this.mainchain.defaultPrivateKey,o=d.length>6?d[6]:void 0){e.next=5;break}return e.abrupt("return",this.injectPromise(this.depositTrc10,t,r,n,i,a,s));case 5:if(!this.validator.notValid([{name:"tokenValue",type:"integer",value:r,gte:0},{name:"depositFee",type:"integer",value:n,gte:0},{name:"feeLimit",type:"integer",value:i,gte:0},{name:"tokenId",type:"integer",value:t,gte:0}],o)){e.next=7;break}return e.abrupt("return");case 7:return a=yr(yr({tokenId:t,tokenValue:r,feeLimit:i},a),{},{callValue:n}),e.prev=8,e.next=11,this.mainchain.contract().at(this.mainGatewayAddress);case 11:return u=e.sent,e.next=14,u.depositTRC10(t,r).send(a,s);case 14:c=e.sent,o(null,c),e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(8),e.abrupt("return",o(e.t0));case 21:case"end":return e.stop()}}),e,this,[[8,18]])}))),function(e,t,r,n){return g.apply(this,arguments)})},{key:"depositTrc",value:(v=l()(N().mark((function e(t,r,n,i,a){var s,o,u,c,d,l,h=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=h.length>5&&void 0!==h[5]?h[5]:{},o=h.length>6&&void 0!==h[6]?h[6]:this.mainchain.defaultPrivateKey,u=h.length>7?h[7]:void 0){e.next=5;break}return e.abrupt("return",this.injectPromise(this.depositTrc,t,r,n,i,a,s,o));case 5:if(!this.validator.notValid([{name:"functionSelector",type:"not-empty-string",value:t},{name:"num",type:"integer",value:r,gte:0},{name:"fee",type:"integer",value:n,gte:0},{name:"feeLimit",type:"integer",value:i,gte:0},{name:"contractAddress",type:"address",value:a}],u)){e.next=7;break}return e.abrupt("return");case 7:if(s=yr(yr({feeLimit:i},s),{},{callValue:n,tokenId:"",tokenValue:0}),e.prev=8,c=null,"approve"!==t){e.next=19;break}return e.next=13,this.mainchain.contract().at(a);case 13:return d=e.sent,e.next=16,d.approve(this.mainGatewayAddress,r).send(s,o);case 16:c=e.sent,e.next=34;break;case 19:return e.next=21,this.mainchain.contract().at(this.mainGatewayAddress);case 21:l=e.sent,e.t0=t,e.next="depositTRC20"===e.t0||"depositTRC721"===e.t0?25:"retryDeposit"===e.t0||"retryMapping"===e.t0?29:33;break;case 25:return e.next=27,l[t](a,r).send(s,o);case 27:case 31:return c=e.sent,e.abrupt("break",34);case 29:return e.next=31,l[t](r).send(s,o);case 33:return e.abrupt("break",34);case 34:u(null,c),e.next=40;break;case 37:return e.prev=37,e.t1=e.catch(8),e.abrupt("return",u(e.t1));case 40:case"end":return e.stop()}}),e,this,[[8,37]])}))),function(e,t,r,n,i){return v.apply(this,arguments)})},{key:"approveTrc20",value:(f=l()(N().mark((function e(t,r,n){var i,a,s,o,u=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:this.mainchain.defaultPrivateKey,s=u.length>5?u[5]:void 0,o="approve",e.abrupt("return",this.depositTrc(o,t,0,r,n,i,a,s));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return f.apply(this,arguments)})},{key:"approveTrc721",value:(h=l()(N().mark((function e(t,r,n){var i,a,s,o,u=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:this.mainchain.defaultPrivateKey,s=u.length>5?u[5]:void 0,o="approve",e.abrupt("return",this.depositTrc(o,t,0,r,n,i,a,s));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return h.apply(this,arguments)})},{key:"depositTrc20",value:(d=l()(N().mark((function e(t,r,n,i){var a,s,o,u,c=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>4&&void 0!==c[4]?c[4]:{},s=c.length>5&&void 0!==c[5]?c[5]:this.mainchain.defaultPrivateKey,o=c.length>6?c[6]:void 0,u="depositTRC20",e.abrupt("return",this.depositTrc(u,t,r,n,i,a,s,o));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return d.apply(this,arguments)})},{key:"mappingTrc",value:(c=l()(N().mark((function e(t,r,n,i){var a,s,o,u,c,d=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>4&&void 0!==d[4]?d[4]:{},s=d.length>5&&void 0!==d[5]?d[5]:this.mainchain.defaultPrivateKey,o=d.length>6?d[6]:void 0){e.next=5;break}return e.abrupt("return",this.injectPromise(this.mappingTrc,t,r,n,i,a,s));case 5:if(!this.validator.notValid([{name:"trxHash",type:"not-empty-string",value:t},{name:"mappingFee",type:"integer",value:r,gte:0},{name:"feeLimit",type:"integer",value:n,gte:0}],o)){e.next=7;break}return e.abrupt("return");case 7:return t=t.startsWith("0x")?t:"0x"+t,a=yr(yr({feeLimit:n},a),{},{callValue:r}),e.prev=9,e.next=12,this.mainchain.contract().at(this.mainGatewayAddress);case 12:if(u=e.sent,c=null,"mappingTRC20"!==i){e.next=20;break}return e.next=17,u.mappingTRC20(t).send(a,s);case 17:c=e.sent,e.next=27;break;case 20:if("mappingTRC721"!==i){e.next=26;break}return e.next=23,u.mappingTRC721(t).send(a,s);case 23:c=e.sent,e.next=27;break;case 26:o(new Error("type must be trc20 or trc721"));case 27:o(null,c),e.next=33;break;case 30:return e.prev=30,e.t0=e.catch(9),e.abrupt("return",o(e.t0));case 33:case"end":return e.stop()}}),e,this,[[9,30]])}))),function(e,t,r,n){return c.apply(this,arguments)})},{key:"mappingTrc20",value:(u=l()(N().mark((function e(t,r,n){var i,a,s,o,u=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:this.mainchain.defaultPrivateKey,s=u.length>5?u[5]:void 0,o="mappingTRC20",e.abrupt("return",this.mappingTrc(t,r,n,o,i,a,s));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return u.apply(this,arguments)})},{key:"withdrawTrx",value:(o=l()(N().mark((function e(t,r,n){var i,a,s,o,u,c=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=c.length>3&&void 0!==c[3]?c[3]:{},a=c.length>4&&void 0!==c[4]?c[4]:this.mainchain.defaultPrivateKey,s=c.length>5?c[5]:void 0){e.next=5;break}return e.abrupt("return",this.injectPromise(this.withdrawTrx,t,r,n,i,a));case 5:if(!this.validator.notValid([{name:"callValue",type:"integer",value:t,gte:0},{name:"withdrawFee",type:"integer",value:r,gte:0},{name:"feeLimit",type:"integer",value:n,gte:0}],s)){e.next=7;break}return e.abrupt("return");case 7:return i=yr({callValue:Number(t)+Number(r),feeLimit:n},i),e.prev=8,e.next=11,this.sidechain.contract().at(this.sideGatewayAddress);case 11:return o=e.sent,e.next=14,o.withdrawTRX().send(i,a);case 14:return u=e.sent,e.abrupt("return",s(null,u));case 18:return e.prev=18,e.t0=e.catch(8),e.abrupt("return",s(e.t0));case 21:case"end":return e.stop()}}),e,this,[[8,18]])}))),function(e,t,r){return o.apply(this,arguments)})},{key:"withdrawTrc10",value:(s=l()(N().mark((function e(t,r,n,i){var a,s,o,u,c,d=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>4&&void 0!==d[4]?d[4]:{},s=d.length>5&&void 0!==d[5]?d[5]:this.mainchain.defaultPrivateKey,o=d.length>6?d[6]:void 0){e.next=5;break}return e.abrupt("return",this.injectPromise(this.withdrawTrc10,t,r,n,i,a,s));case 5:if(!this.validator.notValid([{name:"tokenId",type:"integer",value:t,gte:0},{name:"tokenValue",type:"integer",value:r,gte:0},{name:"withdrawFee",type:"integer",value:n,gte:0},{name:"feeLimit",type:"integer",value:i,gte:0}],o)){e.next=7;break}return e.abrupt("return");case 7:return a=yr({tokenValue:r,tokenId:t,callValue:n,feeLimit:i},a),e.prev=8,e.next=11,this.sidechain.contract().at(this.sideGatewayAddress);case 11:return u=e.sent,e.next=14,u.withdrawTRC10(t,r).send(a,s);case 14:return c=e.sent,e.abrupt("return",o(null,c));case 18:return e.prev=18,e.t0=e.catch(8),e.abrupt("return",o(e.t0));case 21:case"end":return e.stop()}}),e,this,[[8,18]])}))),function(e,t,r,n){return s.apply(this,arguments)})},{key:"withdrawTrc",value:(a=l()(N().mark((function e(t,r,n,i,a){var s,o,u,c,d,l=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=l.length>5&&void 0!==l[5]?l[5]:{},o=l.length>6&&void 0!==l[6]?l[6]:this.mainchain.defaultPrivateKey,u=l.length>7?l[7]:void 0){e.next=5;break}return e.abrupt("return",this.injectPromise(this.withdrawTrc,t,r,n,i,a,s,o));case 5:if(!this.validator.notValid([{name:"functionSelector",type:"not-empty-string",value:t},{name:"numOrId",type:"integer",value:r,gte:0},{name:"withdrawFee",type:"integer",value:n,gte:0},{name:"feeLimit",type:"integer",value:i,gte:0},{name:"contractAddress",type:"address",value:a}],u)){e.next=7;break}return e.abrupt("return");case 7:return s=yr(yr({feeLimit:i},s),{},{callValue:n}),c=this.sidechain.contract([{name:t.split("(")[0],type:"function",stateMutability:"nonpayable",inputs:[{type:"uint256",name:""}],outputs:[]}],a),d=c.methods[t],e.next=12,d(r).send(s,o,u);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,i){return a.apply(this,arguments)})},{key:"withdrawTrc20",value:(i=l()(N().mark((function e(t,r,n,i){var a,s,o,u=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},s=u.length>5&&void 0!==u[5]?u[5]:this.mainchain.defaultPrivateKey,o=u.length>6?u[6]:void 0,e.abrupt("return",this.withdrawTrc("withdrawal(uint256)",t,r,n,i,a,s,o));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return i.apply(this,arguments)})},{key:"withdrawTrc721",value:(n=l()(N().mark((function e(t,r,n,i){var a,s,o,u=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},s=u.length>5&&void 0!==u[5]?u[5]:this.mainchain.defaultPrivateKey,o=u.length>6?u[6]:void 0,e.abrupt("return",this.withdrawTrc("withdrawal(uint256)",t,r,n,i,a,s,o));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,i){return n.apply(this,arguments)})},{key:"injectFund",value:(r=l()(N().mark((function e(t,r){var n,i,a,s,o,u,c,d,l,h=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>2&&void 0!==h[2]?h[2]:"UNUSED (LEGACY?) ARGUMENT",i=h.length>3&&void 0!==h[3]?h[3]:this.mainchain.defaultPrivateKey,a=h.length>4?h[4]:void 0){e.next=5;break}return e.abrupt("return",this.injectPromise(this.injectFund,t,r,n,i));case 5:if(!this.validator.notValid([{name:"num",type:"integer",value:t,gte:0},{name:"feeLimit",type:"integer",value:r,gte:0}],a)){e.next=7;break}return e.abrupt("return");case 7:return e.prev=7,s=this.sidechain.address.fromPrivateKey(i),o=this.sidechain.address.toHex(s),e.next=12,this.sidechain.fullNode.request("/wallet/fundinject",{owner_address:o,amount:t},"post");case 12:return u=e.sent,e.next=15,this.sidechain.trx.sign(u,i);case 15:if((c=e.sent).signature){e.next=20;break}if(i){e.next=19;break}return e.abrupt("return",a("Transaction was not signed properly"));case 19:return e.abrupt("return",a("Invalid private key provided"));case 20:return e.next=22,this.sidechain.trx.sendRawTransaction(c);case 22:if(!(d=e.sent).code){e.next=27;break}return l={error:d.code,message:d.code},d.message&&(l.message=this.mainchain.toUtf8(d.message)),e.abrupt("return",a(l));case 27:return e.abrupt("return",a(null,c.txID));case 30:return e.prev=30,e.t0=e.catch(7),e.abrupt("return",a(e.t0));case 33:case"end":return e.stop()}}),e,this,[[7,30]])}))),function(e,t){return r.apply(this,arguments)})},{key:"retryWithdraw",value:(t=l()(N().mark((function e(t,r,n){var i,a,s,o,u=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:this.mainchain.defaultPrivateKey,s=u.length>5?u[5]:void 0,o="retryWithdraw(uint256)",e.abrupt("return",this.withdrawTrc(o,t,r,n,this.sideGatewayAddress,i,a,s));case 5:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})}]),e}(),kr="BANDWIDTH";function wr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(r),!0).forEach((function(t){_()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Sr="TRON Signed Message:\n32",Ir="Ethereum Signed Message:\n32";function Ar(e){return Lr.address.toHex(e)}var Pr="Invalid address provided",_r="Invalid token ID provided",Tr="Token does not exist",Nr="Invalid transaction provided",Wr="Invalid amount provided",jr="Function requires either a private key or address to be set",Er=function(e){w()(E,e);var t,r,n,i,a,s,o,u,c,d,h,f,v,g,m,k,x,I,P,T,W,j=(T=E,W=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A()(T);if(W){var r=A()(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return S()(this,e)});function E(e){var t;return p()(this,E),t=j.call(this,e),_()(b()(t),"cache",void 0),_()(b()(t),"validator",void 0),_()(b()(t),"signMessage",t.sign.bind(b()(t))),_()(b()(t),"sendAsset",t.sendToken.bind(b()(t))),_()(b()(t),"send",t.sendTransaction.bind(b()(t))),_()(b()(t),"sendTrx",t.sendTransaction.bind(b()(t))),_()(b()(t),"broadcast",t.sendRawTransaction.bind(b()(t))),_()(b()(t),"broadcastHex",t.sendHexTransaction.bind(b()(t))),_()(b()(t),"signTransaction",t.sign.bind(b()(t))),_()(b()(t),"getUnconfirmedTransactionInfo",t.getUnconfirmedTransaction.bind(b()(t))),t.cache={contracts:{}},t.validator=new pr(e),t}return y()(E,[{key:"_parseToken",value:function(e){return xr(xr({},e),{},{name:this.tronWeb.toUtf8(e.name),abbr:e.abbr&&this.tronWeb.toUtf8(e.abbr),description:e.description&&this.tronWeb.toUtf8(e.description),url:e.url&&this.tronWeb.toUtf8(e.url)})}},{key:"getCurrentBlock",value:function(e){if(!e)return this.injectPromise(this.getCurrentBlock);this.tronWeb.fullNode.request("wallet/getnowblock").then((function(t){e(null,t)})).catch((function(t){return e(t)}))}},{key:"getConfirmedCurrentBlock",value:function(e){if(!e)return this.injectPromise(this.getConfirmedCurrentBlock);this.tronWeb.solidityNode.request("walletsolidity/getnowblock").then((function(t){e(null,t)})).catch((function(t){return e(t)}))}},{key:"getBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultBlock,t=arguments.length>1?arguments[1]:void 0;return t?null===e?t("No block identifier provided"):("earliest"===e&&(e=0),"latest"===e?this.getCurrentBlock(t):Yt.isHex(e)?this.getBlockByHash(e,t):void this.getBlockByNumber(e,t)):this.injectPromise(this.getBlock,e)}},{key:"getBlockByHash",value:function(e,t){if(!t)return this.injectPromise(this.getBlockByHash,e);this.tronWeb.fullNode.request("wallet/getblockbyid",{value:e},"post").then((function(e){if(!Object.keys(e).length)return t("Block not found");t(null,e)})).catch((function(e){return t(e)}))}},{key:"getBlockByNumber",value:function(e,t){return t?!Yt.isInteger(e)||e<0?t("Invalid block number provided"):void this.tronWeb.fullNode.request("wallet/getblockbynum",{num:parseInt(e.toString())},"post").then((function(e){if(!Object.keys(e).length)return t("Block not found");t(null,e)})).catch((function(e){return t(e)})):this.injectPromise(this.getBlockByNumber,e)}},{key:"getBlockTransactionCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultBlock,t=arguments.length>1?arguments[1]:void 0;if(!t)return this.injectPromise(this.getBlockTransactionCount,e);this.getBlock(e).then((function(e){var r=e.transactions;t(null,(void 0===r?[]:r).length)})).catch((function(e){return t(e)}))}},{key:"getTransactionFromBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultBlock,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if(!r)return this.injectPromise(this.getTransactionFromBlock,e,t);this.getBlock(e).then((function(e){var n=e.transactions;n?"number"==typeof t?t>=0&&t<n.length?r(null,n[t]):r("Invalid transaction index provided"):r(null,n):r("Transaction not found in block")})).catch((function(e){return r(e)}))}},{key:"getTransaction",value:function(e,t){if(!t)return this.injectPromise(this.getTransaction,e);this.tronWeb.fullNode.request("wallet/gettransactionbyid",{value:e},"post").then((function(e){if(!Object.keys(e).length)return t("Transaction not found");t(null,e)})).catch((function(e){return t(e)}))}},{key:"getConfirmedTransaction",value:function(e,t){if(!t)return this.injectPromise(this.getConfirmedTransaction,e);this.tronWeb.solidityNode.request("walletsolidity/gettransactionbyid",{value:e},"post").then((function(e){if(!Object.keys(e).length)return t("Transaction not found");t(null,e)})).catch((function(e){return t(e)}))}},{key:"getUnconfirmedTransaction",value:function(e,t){return this._getTransactionInfoById(e,{confirmed:!1},t)}},{key:"getTransactionInfo",value:function(e,t){return this._getTransactionInfoById(e,{confirmed:!0},t)}},{key:"_getTransactionInfoById",value:function(e,t,r){if(!r)return this.injectPromise(this._getTransactionInfoById,e,t);t.confirmed?this.tronWeb.solidityNode.request("wallet/gettransactioninfobyid",{value:e},"post").then((function(e){r(null,e)})).catch((function(e){return r(e)})):this.tronWeb.fullNode.request("walletsolidity/gettransactioninfobyid",{value:e},"post").then((function(e){r(null,e)})).catch((function(e){return r(e)}))}},{key:"getTransactionsToAddress",value:(P=l()(N().mark((function e(){var t,r,n,i,a=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:this.tronWeb.defaultAddress.hex,r=a.length>1&&void 0!==a[1]?a[1]:30,n=a.length>2&&void 0!==a[2]?a[2]:0,i=a.length>3?a[3]:void 0,e.abrupt("return",this.getTransactionsRelated(t,"to",r,n,i));case 5:case"end":return e.stop()}}),e,this)}))),function(){return P.apply(this,arguments)})},{key:"getTransactionsFromAddress",value:(I=l()(N().mark((function e(){var t,r,n,i,a=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:this.tronWeb.defaultAddress.hex,r=a.length>1&&void 0!==a[1]?a[1]:30,n=a.length>2&&void 0!==a[2]?a[2]:0,i=a.length>3?a[3]:void 0,e.abrupt("return",this.getTransactionsRelated(t,"from",r,n,i));case 5:case"end":return e.stop()}}),e,this)}))),function(){return I.apply(this,arguments)})},{key:"getTransactionsRelated",value:(x=l()(N().mark((function e(){var t,r,n,i,a,s,o,u,c,d=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:this.tronWeb.defaultAddress.hex,r=d.length>1&&void 0!==d[1]?d[1]:"all",n=d.length>2&&void 0!==d[2]?d[2]:30,i=d.length>3&&void 0!==d[3]?d[3]:0,a=d.length>4?d[4]:void 0){e.next=7;break}return e.abrupt("return",this.injectPromise(this.getTransactionsRelated,t,r,n,i));case 7:if(["to","from","all"].includes(r)){e.next=9;break}return e.abrupt("return",a('Invalid direction provided: Expected "to", "from" or "all"'));case 9:if("all"!==r){e.next=23;break}return e.prev=10,e.next=13,Promise.all([this.getTransactionsRelated(t,"from",n,i),this.getTransactionsRelated(t,"to",n,i)]);case 13:return s=e.sent,o=V()(s,2),u=o[0],c=o[1],e.abrupt("return",a(null,[].concat(Te()(u.map((function(e){return e.direction="from",e}))),Te()(c.map((function(e){return e.direction="to",e})))).sort((function(e,t){return t.raw_data.timestamp-e.raw_data.timestamp}))));case 20:return e.prev=20,e.t0=e.catch(10),e.abrupt("return",a(e.t0));case 23:if(this.tronWeb.isAddress(t)){e.next=25;break}return e.abrupt("return",a(Pr));case 25:if(!(!Yt.isInteger(n)||n<0||i&&n<1)){e.next=27;break}return e.abrupt("return",a("Invalid limit provided"));case 27:if(Yt.isInteger(i)&&!(i<0)){e.next=29;break}return e.abrupt("return",a("Invalid offset provided"));case 29:t=this.tronWeb.address.toHex(t),this.tronWeb.solidityNode.request("walletextension/gettransactions".concat(r,"this"),{account:{address:t},offset:i,limit:n},"post").then((function(e){var t=e.transaction;a(null,t)})).catch((function(e){return a(e)}));case 31:case"end":return e.stop()}}),e,this,[[10,20]])}))),function(){return x.apply(this,arguments)})},{key:"getAccount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1?arguments[1]:void 0;return t?this.tronWeb.isAddress(e)?(e=this.tronWeb.address.toHex(e),void this.tronWeb.solidityNode.request("walletsolidity/getaccount",{address:e},"post").then((function(e){t(null,e)})).catch((function(e){return t(e)}))):t(Pr):this.injectPromise(this.getAccount,e)}},{key:"getAccountById",value:function(e,t){if(!t)return this.injectPromise(this.getAccountById,e);this.getAccountInfoById(e,{confirmed:!0},t)}},{key:"getAccountInfoById",value:function(e,t,r){this.validator.notValid([{name:"accountId",type:"hex",value:e},{name:"accountId",type:"string",lte:32,gte:8,value:e}],r)||(e.startsWith("0x")&&(e=e.slice(2)),t&&t.confirmed?this.tronWeb.solidityNode.request("walletsolidity/getaccountbyid",{account_id:e},"post").then((function(e){r(null,e)})).catch((function(e){return r(e)})):this.tronWeb.fullNode.request("wallet/getaccountbyid",{account_id:e},"post").then((function(e){r(null,e)})).catch((function(e){return r(e)})))}},{key:"getBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1?arguments[1]:void 0;if(!t)return this.injectPromise(this.getBalance,e);this.getAccount(e).then((function(e){var r=e.balance;t(null,void 0===r?0:r)})).catch((function(e){return t(e)}))}},{key:"getUnconfirmedAccount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1?arguments[1]:void 0;return t?this.tronWeb.isAddress(e)?(e=this.tronWeb.address.toHex(e),void this.tronWeb.fullNode.request("wallet/getaccount",{address:e},"post").then((function(e){t(null,e)})).catch((function(e){return t(e)}))):t(Pr):this.injectPromise(this.getUnconfirmedAccount,e)}},{key:"getUnconfirmedAccountById",value:function(e,t){if(!t)return this.injectPromise(this.getUnconfirmedAccountById,e);this.getAccountInfoById(e,{confirmed:!1},t)}},{key:"getUnconfirmedBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1?arguments[1]:void 0;if(!t)return this.injectPromise(this.getUnconfirmedBalance,e);this.getUnconfirmedAccount(e).then((function(e){var r=e.balance;t(null,void 0===r?0:r)})).catch((function(e){return t(e)}))}},{key:"getBandwidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1?arguments[1]:void 0;return t?this.tronWeb.isAddress(e)?(e=this.tronWeb.address.toHex(e),void this.tronWeb.fullNode.request("wallet/getaccountnet",{address:e},"post").then((function(e){var r=e.freeNetUsed,n=void 0===r?0:r,i=e.freeNetLimit,a=void 0===i?0:i,s=e.NetUsed,o=void 0===s?0:s,u=e.NetLimit;t(null,a-n+((void 0===u?0:u)-o))})).catch((function(e){return t(e)}))):t(Pr):this.injectPromise(this.getBandwidth,e)}},{key:"getTokensIssuedByAddress",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,r=arguments.length>1?arguments[1]:void 0;return r?this.tronWeb.isAddress(t)?(t=this.tronWeb.address.toHex(t),void this.tronWeb.fullNode.request("wallet/getassetissuebyaccount",{address:t},"post").then((function(t){var n=t.assetIssue;if(!n)return r(null,{});var i=n.map((function(t){return e._parseToken(t)})).reduce((function(e,t){return e[t.name]=t,e}),{});r(null,i)})).catch((function(e){return r(e)}))):r(Pr):this.injectPromise(this.getTokensIssuedByAddress,t)}},{key:"getTokenFromID",value:function(e,t){var r=this;return t?(Yt.isInteger(e)&&(e=e.toString()),Yt.isString(e)&&e.length?void this.tronWeb.fullNode.request("wallet/getassetissuebyname",{value:this.tronWeb.fromUtf8(e)},"post").then((function(e){if(!e.name)return t(Tr);t(null,r._parseToken(e))})).catch((function(e){return t(e)})):t(_r)):this.injectPromise(this.getTokenFromID,e)}},{key:"listNodes",value:function(e){var t=this;if(!e)return this.injectPromise(this.listNodes);this.tronWeb.fullNode.request("wallet/listnodes").then((function(r){var n=r.nodes;e(null,(void 0===n?[]:n).map((function(e){var r=e.address;return"".concat(t.tronWeb.toUtf8(r.host),":").concat(r.port)})))})).catch((function(t){return e(t)}))}},{key:"getBlockRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,r=arguments.length>2?arguments[2]:void 0;return r?!Yt.isInteger(e)||e<0?r("Invalid start of range provided"):!Yt.isInteger(t)||t<=e?r("Invalid end of range provided"):void this.tronWeb.fullNode.request("wallet/getblockbylimitnext",{startNum:parseInt(e.toString()),endNum:parseInt(t.toString())+1},"post").then((function(e){var t=e.block;r(null,void 0===t?[]:t)})).catch((function(e){return r(e)})):this.injectPromise(this.getBlockRange,e,t)}},{key:"listSuperRepresentatives",value:function(e){if(!e)return this.injectPromise(this.listSuperRepresentatives);this.tronWeb.fullNode.request("wallet/listwitnesses").then((function(t){var r=t.witnesses;e(null,void 0===r?[]:r)})).catch((function(t){return e(t)}))}},{key:"listTokens",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return n?!Yt.isInteger(t)||t<0||r&&t<1?n("Invalid limit provided"):!Yt.isInteger(r)||r<0?n("Invalid offset provided"):t?void this.tronWeb.fullNode.request("wallet/getpaginatedassetissuelist",{offset:parseInt(r.toString()),limit:parseInt(t.toString())},"post").then((function(t){var r=t.assetIssue;n(null,(void 0===r?[]:r).map((function(t){return e._parseToken(t)})))})).catch((function(e){return n(e)})):this.tronWeb.fullNode.request("wallet/getassetissuelist").then((function(t){var r=t.assetIssue;n(null,(void 0===r?[]:r).map((function(t){return e._parseToken(t)})))})).catch((function(e){return n(e)})):this.injectPromise(this.listTokens,t,r)}},{key:"timeUntilNextVoteCycle",value:function(e){if(!e)return this.injectPromise(this.timeUntilNextVoteCycle);this.tronWeb.fullNode.request("wallet/getnextmaintenancetime").then((function(t){var r=t.num,n=void 0===r?-1:r;if(-1===n)return e("Failed to get time until next vote cycle");e(null,Math.floor(n/1e3))})).catch((function(t){return e(t)}))}},{key:"getContract",value:function(e,t){var r=this;return t?this.tronWeb.isAddress(e)?void(this.cache.contracts[e]?t(null,this.cache.contracts[e]):(e=this.tronWeb.address.toHex(e),this.tronWeb.fullNode.request("wallet/getcontract",{value:e}).then((function(n){if("Error"in n)return t("Contract does not exist");r.cache.contracts[e]=n,t(null,n)})).catch((function(e){return t(e)})))):t("Invalid contract address provided"):this.injectPromise(this.getContract,e)}},{key:"verifyMessage",value:(k=l()(N().mark((function e(t,r){var n,i,a,s=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>2&&void 0!==s[2]?s[2]:this.tronWeb.defaultAddress.base58,i=!(s.length>3&&void 0!==s[3])||s[3],a=s.length>4?s[4]:void 0){e.next=5;break}return e.abrupt("return",this.injectPromise(this.verifyMessage,t,r,n,i));case 5:if(Yt.isHex(t)){e.next=7;break}return e.abrupt("return",a("Expected hex message input"));case 7:if(!E.verifySignature(t,n,r,i)){e.next=9;break}return e.abrupt("return",a(null,!0));case 9:a("Signature does not match");case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return k.apply(this,arguments)})},{key:"verifyMessageV2",value:function(e,t,r,n){if(Yt.isFunction(r))return this.verifyMessageV2(e,t,void 0,r);if(!n)return this.injectPromise(this.verifyMessageV2,e,t,r);try{n(null,E.verifyMessageV2(e,t))}catch(e){n(e)}}},{key:"verifyTypedData",value:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.tronWeb.defaultAddress.base58,a=arguments.length>5?arguments[5]:void 0;return a?E.verifyTypedData(e,t,r,n,i)?a(null,!0):void a("Signature does not match"):this.injectPromise(this.verifyTypedData,e,t,r,n,i)}},{key:"sign",value:(m=l()(N().mark((function e(t){var r,n,i,a,s,o=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:this.tronWeb.defaultAddress.hex,n=o.length>2&&void 0!==o[2]&&o[2],i=o.length>3&&void 0!==o[3]&&o[3],a=o.length>4?o[4]:void 0){e.next=6;break}return e.abrupt("return",this.injectPromise(this.sign,t,r,n,i));case 6:if(!Yt.isString(t)){e.next=17;break}if(Yt.isHex(t)){e.next=9;break}return e.abrupt("return",a("Expected hex message input"));case 9:return e.prev=9,s=E.signString(t,r,n),e.abrupt("return",a(null,s));case 14:e.prev=14,e.t0=e.catch(9),a(e.t0);case 17:if(Yt.isObject(t)){e.next=19;break}return e.abrupt("return",a(Nr));case 19:if(i||!t.signature){e.next=21;break}return e.abrupt("return",a("Transaction is already signed"));case 21:if(e.prev=21,i){e.next=26;break}if(this.tronWeb.address.toHex(this.tronWeb.address.fromPrivateKey(r)).toLowerCase()===this.tronWeb.address.toHex(t.raw_data.contract[0].parameter.value.owner_address)){e.next=26;break}return e.abrupt("return",a("Private key does not match address in transaction"));case 26:return e.abrupt("return",a(null,Yt.crypto.signTransaction(r,t)));case 29:e.prev=29,e.t1=e.catch(21),a(e.t1);case 32:case"end":return e.stop()}}),e,this,[[9,14],[21,29]])}))),function(e){return m.apply(this,arguments)})},{key:"signString",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return E.signString(e,t,r)}},{key:"signMessageV2",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultPrivateKey,r=arguments.length>3?arguments[3]:void 0;if(!r)return this.injectPromise(this.signMessageV2,e,t);try{var n=E.signMessageV2(e,t);return r(null,n)}catch(e){r(e)}}},{key:"_signTypedData",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultPrivateKey,i=arguments.length>4?arguments[4]:void 0;if(Yt.isFunction(n))return this._signTypedData(e,t,r,this.tronWeb.defaultPrivateKey,n);if(!i)return this.injectPromise(this._signTypedData,e,t,r,n);try{var a=E._signTypedData(e,t,r,n);return i(null,a)}catch(e){i(e)}}},{key:"multiSign",value:(g=l()(N().mark((function e(t){var r,n,i,a,s,o,u=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:this.tronWeb.defaultPrivateKey,n=u.length>2&&void 0!==u[2]?u[2]:0,i=u.length>3?u[3]:void 0){e.next=5;break}return e.abrupt("return",this.injectPromise(this.multiSign,t,r,n));case 5:if(Yt.isObject(t)&&t.raw_data&&t.raw_data.contract){e.next=7;break}return e.abrupt("return",i(Nr));case 7:if(t.raw_data.contract[0].Permission_id||!(n>0)){e.next=25;break}return t.raw_data.contract[0].Permission_id=n,a=this.tronWeb.address.toHex(this.tronWeb.address.fromPrivateKey(r)).toLowerCase(),e.next=12,this.getSignWeight(t,n);case 12:if(s=e.sent,o=!1,s.permission&&s.permission.keys.map((function(e){e.address===a&&(o=!0)})),o){e.next=17;break}return e.abrupt("return",i(r+" has no permission to sign"));case 17:if(!s.approved_list||-1===s.approved_list.indexOf(a)){e.next=19;break}return e.abrupt("return",i(r+" already sign transaction"));case 19:if(!s.transaction||!s.transaction.transaction){e.next=24;break}t=s.transaction.transaction,n>0&&(t.raw_data.contract[0].Permission_id=n),e.next=25;break;case 24:return e.abrupt("return",i(Nr));case 25:return e.prev=25,e.abrupt("return",i(null,Yt.crypto.signTransaction(r,t)));case 29:e.prev=29,e.t0=e.catch(25),i(e.t0);case 32:case"end":return e.stop()}}),e,this,[[25,29]])}))),function(e){return g.apply(this,arguments)})},{key:"getApprovedList",value:(v=l()(N().mark((function e(t,r){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",this.injectPromise(this.getApprovedList,t));case 2:if(Yt.isObject(t)){e.next=4;break}return e.abrupt("return",r(Nr));case 4:this.tronWeb.fullNode.request("wallet/getapprovedlist",t,"post").then((function(e){r(null,e)})).catch((function(e){return r(e)}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return v.apply(this,arguments)})},{key:"getSignWeight",value:(f=l()(N().mark((function e(t,r,n){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",this.injectPromise(this.getSignWeight,t,r));case 2:if(Yt.isObject(t)&&t.raw_data&&t.raw_data.contract){e.next=4;break}return e.abrupt("return",n(Nr));case 4:if(Yt.isInteger(r)?t.raw_data.contract[0].Permission_id=parseInt(r.toString()):"number"!=typeof t.raw_data.contract[0].Permission_id&&(t.raw_data.contract[0].Permission_id=0),Yt.isObject(t)){e.next=7;break}return e.abrupt("return",n(Nr));case 7:this.tronWeb.fullNode.request("wallet/getsignweight",t,"post").then((function(e){n(null,e)})).catch((function(e){return n(e)}));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return f.apply(this,arguments)})},{key:"sendRawTransaction",value:function(e,t,r){return r?Yt.isObject(e)?e.signature&&Yt.isArray(e.signature)?void this.tronWeb.fullNode.request("wallet/broadcasttransaction",e,"post").then((function(t){var n=t;n.result&&(n.transaction=e),r(null,n)})).catch((function(e){return r(e)})):r("Transaction is not signed"):r(Nr):this.injectPromise(this.sendRawTransaction,e,t)}},{key:"sendHexTransaction",value:function(e,t,r){if(!r)return this.injectPromise(this.sendHexTransaction,e,t);if(!Yt.isHex(e))return r("Invalid hex transaction provided");var n={transaction:e};this.tronWeb.fullNode.request("wallet/broadcasthex",n,"post").then((function(t){t.result&&(t.transaction=JSON.parse(t.transaction),t.hexTransaction=e),r(null,t)})).catch((function(e){return r(e)}))}},{key:"sendTransaction",value:(h=l()(N().mark((function e(t,r,n,i){var a,s,o,u;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof n&&(n={privateKey:n}),i){e.next=3;break}return e.abrupt("return",this.injectPromise(this.sendTransaction,t,r,n));case 3:if(this.tronWeb.isAddress(t)){e.next=5;break}return e.abrupt("return",i("Invalid recipient provided"));case 5:if(Yt.isInteger(r)&&!(r<=0)){e.next=7;break}return e.abrupt("return",i(Wr));case 7:if((n=xr({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},n)).privateKey||n.address){e.next=10;break}return e.abrupt("return",i(jr));case 10:return e.prev=10,a=n.privateKey?this.tronWeb.address.fromPrivateKey(n.privateKey):n.address,e.next=14,this.tronWeb.transactionBuilder.sendTrx(t,r,a);case 14:return s=e.sent,e.next=17,this.sign(s,n.privateKey||void 0);case 17:return o=e.sent,e.next=20,this.sendRawTransaction(o);case 20:return u=e.sent,e.abrupt("return",i(null,u));case 24:return e.prev=24,e.t0=e.catch(10),e.abrupt("return",i(e.t0));case 27:case"end":return e.stop()}}),e,this,[[10,24]])}))),function(e,t,r,n){return h.apply(this,arguments)})},{key:"sendToken",value:(d=l()(N().mark((function e(t,r,n,i,a){var s,o,u,c;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof i&&(i={privateKey:i}),a){e.next=3;break}return e.abrupt("return",this.injectPromise(this.sendToken,t,r,n,i));case 3:if(this.tronWeb.isAddress(t)){e.next=5;break}return e.abrupt("return",a("Invalid recipient provided"));case 5:if(Yt.isInteger(r)&&!(r<=0)){e.next=7;break}return e.abrupt("return",a(Wr));case 7:if(Yt.isInteger(n)&&(n=n.toString()),Yt.isString(n)){e.next=10;break}return e.abrupt("return",a(_r));case 10:if((i=xr({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},i)).privateKey||i.address){e.next=13;break}return e.abrupt("return",a(jr));case 13:return e.prev=13,s=i.privateKey?this.tronWeb.address.fromPrivateKey(i.privateKey):i.address,e.next=17,this.tronWeb.transactionBuilder.sendToken(t,r,n,s);case 17:return o=e.sent,e.next=20,this.sign(o,i.privateKey||void 0);case 20:return u=e.sent,e.next=23,this.sendRawTransaction(u);case 23:return c=e.sent,e.abrupt("return",a(null,c));case 27:return e.prev=27,e.t0=e.catch(13),e.abrupt("return",a(e.t0));case 30:case"end":return e.stop()}}),e,this,[[13,27]])}))),function(e,t,r,n,i){return d.apply(this,arguments)})},{key:"freezeBalance",value:(c=l()(N().mark((function e(t){var r,n,i,a,s,o,u,c,d,l=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:3,n=l.length>2&&void 0!==l[2]?l[2]:"BANDWIDTH",i=l.length>3&&void 0!==l[3]?l[3]:{},a=l.length>4?l[4]:void 0,s=l.length>5?l[5]:void 0,"string"==typeof i&&(i={privateKey:i}),s){e.next=8;break}return e.abrupt("return",this.injectPromise(this.freezeBalance,t,r,n,i,a));case 8:if(["BANDWIDTH","ENERGY"].includes(n)){e.next=10;break}return e.abrupt("return",s('Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'));case 10:if(Yt.isInteger(t)&&!(t<=0)){e.next=12;break}return e.abrupt("return",s(Wr));case 12:if(Yt.isInteger(r)&&!(r<3)){e.next=14;break}return e.abrupt("return",s("Invalid duration provided, minimum of 3 days"));case 14:if((i=xr({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},i)).privateKey||i.address){e.next=17;break}return e.abrupt("return",s(jr));case 17:return e.prev=17,o=i.privateKey?this.tronWeb.address.fromPrivateKey(i.privateKey):i.address,e.next=21,this.tronWeb.transactionBuilder.freezeBalance(t,r,n,o,a);case 21:return u=e.sent,e.next=24,this.sign(u,i.privateKey||void 0);case 24:return c=e.sent,e.next=27,this.sendRawTransaction(c);case 27:return d=e.sent,e.abrupt("return",s(null,d));case 31:return e.prev=31,e.t0=e.catch(17),e.abrupt("return",s(e.t0));case 34:case"end":return e.stop()}}),e,this,[[17,31]])}))),function(e){return c.apply(this,arguments)})},{key:"unfreezeBalance",value:(u=l()(N().mark((function e(){var t,r,n,i,a,s,o,u,c=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:"BANDWIDTH",r=c.length>1&&void 0!==c[1]?c[1]:{},n=c.length>2?c[2]:void 0,i=c.length>3?c[3]:void 0,"string"==typeof r&&(r={privateKey:r}),i){e.next=7;break}return e.abrupt("return",this.injectPromise(this.unfreezeBalance,t,r,n));case 7:if(["BANDWIDTH","ENERGY"].includes(t)){e.next=9;break}return e.abrupt("return",i('Invalid resource provided: Expected "BANDWIDTH" or "ENERGY"'));case 9:if((r=xr({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},r)).privateKey||r.address){e.next=12;break}return e.abrupt("return",i(jr));case 12:return e.prev=12,a=r.privateKey?this.tronWeb.address.fromPrivateKey(r.privateKey):r.address,e.next=16,this.tronWeb.transactionBuilder.unfreezeBalance(t,a,n);case 16:return s=e.sent,e.next=19,this.sign(s,r.privateKey||void 0);case 19:return o=e.sent,e.next=22,this.sendRawTransaction(o);case 22:return u=e.sent,e.abrupt("return",i(null,u));case 26:return e.prev=26,e.t0=e.catch(12),e.abrupt("return",i(e.t0));case 29:case"end":return e.stop()}}),e,this,[[12,26]])}))),function(){return u.apply(this,arguments)})},{key:"updateAccount",value:(o=l()(N().mark((function e(t,r,n){var i,a,s,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof r&&(r={privateKey:r}),n){e.next=3;break}return e.abrupt("return",this.injectPromise(this.updateAccount,t,r));case 3:if(Yt.isString(t)&&t.length){e.next=5;break}return e.abrupt("return",n("Name must be a string"));case 5:if((r=xr({privateKey:this.tronWeb.defaultPrivateKey,address:this.tronWeb.defaultAddress.hex},r)).privateKey||r.address){e.next=8;break}return e.abrupt("return",n(jr));case 8:return e.prev=8,i=r.privateKey?this.tronWeb.address.fromPrivateKey(r.privateKey):r.address,e.next=12,this.tronWeb.transactionBuilder.updateAccount(t,i);case 12:return a=e.sent,e.next=15,this.sign(a,r.privateKey||void 0);case 15:return s=e.sent,e.next=18,this.sendRawTransaction(s);case 18:return o=e.sent,e.abrupt("return",n(null,o));case 22:return e.prev=22,e.t0=e.catch(8),e.abrupt("return",n(e.t0));case 25:case"end":return e.stop()}}),e,this,[[8,22]])}))),function(e,t,r){return o.apply(this,arguments)})},{key:"getProposal",value:function(e,t){return t?!Yt.isInteger(e)||e<0?t("Invalid proposalID provided"):void this.tronWeb.fullNode.request("wallet/getproposalbyid",{id:parseInt(e.toString())},"post").then((function(e){t(null,e)})).catch((function(e){return t(e)})):this.injectPromise(this.getProposal,e)}},{key:"listProposals",value:function(e){if(!e)return this.injectPromise(this.listProposals);this.tronWeb.fullNode.request("wallet/listproposals",{},"post").then((function(t){var r=t.proposals;e(null,void 0===r?[]:r)})).catch((function(t){return e(t)}))}},{key:"getChainParameters",value:function(e){if(!e)return this.injectPromise(this.getChainParameters);this.tronWeb.fullNode.request("wallet/getchainparameters",{},"post").then((function(t){var r=t.chainParameter;e(null,void 0===r?[]:r)})).catch((function(t){return e(t)}))}},{key:"getAccountResources",value:function(e,t){return t?this.tronWeb.isAddress(e)?void this.tronWeb.fullNode.request("wallet/getaccountresource",{address:this.tronWeb.address.toHex(e)},"post").then((function(e){t(null,e)})).catch((function(e){return t(e)})):t(Pr):this.injectPromise(this.getAccountResources,e)}},{key:"getExchangeByID",value:function(e,t){return t?!Yt.isInteger(e)||e<0?t("Invalid exchangeID provided"):void this.tronWeb.fullNode.request("wallet/getexchangebyid",{id:e},"post").then((function(e){t(null,e)})).catch((function(e){return t(e)})):this.injectPromise(this.getExchangeByID,e)}},{key:"listExchanges",value:function(e){if(!e)return this.injectPromise(this.listExchanges);this.tronWeb.fullNode.request("wallet/listexchanges",{},"post").then((function(t){var r=t.exchanges;e(null,void 0===r?[]:r)})).catch((function(t){return e(t)}))}},{key:"listExchangesPaginated",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;if(!r)return this.injectPromise(this.listExchangesPaginated,e,t);this.tronWeb.fullNode.request("wallet/getpaginatedexchangelist",{limit:e,offset:t},"post").then((function(e){var t=e.exchanges;r(null,void 0===t?[]:t)})).catch((function(e){return r(e)}))}},{key:"getNodeInfo",value:function(e){if(!e)return this.injectPromise(this.getNodeInfo);this.tronWeb.fullNode.request("wallet/getnodeinfo",{},"post").then((function(t){e(null,t)})).catch((function(t){return e(t)}))}},{key:"getTokenListByName",value:function(e,t){var r=this;return t?(Yt.isInteger(e)&&(e=e.toString()),Yt.isString(e)&&e.length?void this.tronWeb.fullNode.request("wallet/getassetissuelistbyname",{value:this.tronWeb.fromUtf8(e)},"post").then((function(e){return Array.isArray(e.assetIssue)?t(null,e.assetIssue.map((function(e){return r._parseToken(e)}))):"name"in e&&e.name?t(null,[r._parseToken(e)]):t(Tr)})).catch((function(e){return t(e)})):t(_r)):this.injectPromise(this.getTokenListByName,e)}},{key:"getTokenByID",value:function(e,t){var r=this;return t?(Yt.isInteger(e)&&(e=e.toString()),Yt.isString(e)&&e.length?void this.tronWeb.fullNode.request("wallet/getassetissuebyid",{value:e},"post").then((function(e){if(!e.name)return t(Tr);t(null,r._parseToken(e))})).catch((function(e){return t(e)})):t(_r)):this.injectPromise(this.getTokenByID,e)}},{key:"getReward",value:(s=l()(N().mark((function e(t){var r,n,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2?i[2]:void 0,r.confirmed=!0,e.abrupt("return",this._getReward(t,r,n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"getUnconfirmedReward",value:(a=l()(N().mark((function e(t){var r,n,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2?i[2]:void 0,r.confirmed=!1,e.abrupt("return",this._getReward(t,r,n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getBrokerage",value:(i=l()(N().mark((function e(t){var r,n,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2?i[2]:void 0,r.confirmed=!0,e.abrupt("return",this._getBrokerage(t,r,n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getUnconfirmedBrokerage",value:(n=l()(N().mark((function e(t){var r,n,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},n=i.length>2?i[2]:void 0,r.confirmed=!1,e.abrupt("return",this._getBrokerage(t,r,n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_getReward",value:(r=l()(N().mark((function e(){var t,r,n,i,a=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:this.tronWeb.defaultAddress.hex,r=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2?a[2]:void 0){e.next=5;break}return e.abrupt("return",this.injectPromise(this._getReward,t,r));case 5:if(Yt.isString(t)){e.next=7;break}return e.abrupt("return",n("Invalid address."));case 7:if(!this.validator.notValid([{name:"origin",type:"address",value:t}],n)){e.next=9;break}return e.abrupt("return");case 9:i={address:Ar(t)},(r.confirmed?this.tronWeb.solidityNode.request("walletsolidity/getReward",i,"post"):this.tronWeb.fullNode.request("wallet/getReward",i,"post")).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===e.reward)return n("Not found.");n(null,e.reward)})).catch((function(e){return n(e)}));case 11:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"_getBrokerage",value:(t=l()(N().mark((function e(){var t,r,n,i,a=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:this.tronWeb.defaultAddress.hex,r=a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2?a[2]:void 0){e.next=5;break}return e.abrupt("return",this.injectPromise(this._getBrokerage,t,r));case 5:if(Yt.isString(t)){e.next=7;break}return e.abrupt("return",n("Invalid address: ".concat(t,".")));case 7:if(!this.validator.notValid([{name:"origin",type:"address",value:t}],n)){e.next=9;break}return e.abrupt("return");case 9:i={address:Ar(t)},(r.confirmed?this.tronWeb.solidityNode.request("walletsolidity/getBrokerage",i,"post"):this.tronWeb.fullNode.request("wallet/getBrokerage",i,"post")).then((function(e){if(void 0===e.brokerage)return n("Not found.");n(null,e.brokerage)})).catch((function(e){return n(e)}));case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"verifySignature",value:function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e=e.replace(/^0x/,""),r=r.replace(/^0x/,"");var i=[].concat(Te()(Y(n?Sr:Ir)),Te()(Yt.code.hexStr2byteArray(e))),a=J(i),s=Z(a,{recoveryParam:"1c"===r.substring(128,130)?1:0,r:"0x"+r.substring(0,64),s:"0x"+r.substring(64,128)}),o=F+s.substr(2),u=Lr.address.fromHex(o);return u===Lr.address.fromHex(t)}},{key:"verifyMessageV2",value:function(e,t){return Yt.message.verifyMessage(e,t)}},{key:"verifyTypedData",value:function(e,t,r,n,i){n=n.replace(/^0x/,"");var a=Yt._TypedDataEncoder.hash(e,t,r),s=Z(a,{recoveryParam:"1c"===n.substring(128,130)?1:0,r:"0x"+n.substring(0,64),s:"0x"+n.substring(64,128)}),o=F+s.substr(2);return Lr.address.fromHex(o)===Lr.address.fromHex(i)}},{key:"signString",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=e.replace(/^0x/,"");var n={toHexString:function(){return"0x"+t},value:t},i=new ce(n),a=[].concat(Te()(Y(r?Sr:Ir)),Te()(Yt.code.hexStr2byteArray(e))),s=J(a),o=i.signDigest(s);return["0x",o.r.substring(2),o.s.substring(2),Number(o.v).toString(16)].join("")}},{key:"signMessageV2",value:function(e,t){return Yt.message.signMessage(e,t)}},{key:"_signTypedData",value:function(e,t,r,n){return Yt.crypto._signTypedData(e,t,r,n)}}]),E}(H);function Cr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Br(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Br(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw a}}}}function Br(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Or,Rr='Invalid resource provided: Expected "BANDWIDTH" or "ENERGY';function qr(e){return Lr.address.toHex(e)}function Dr(e){return Or.tronWeb.fromUtf8(e)}function Kr(e,t){return e.Error?t(e.Error):e.result&&e.result.message?t(Or.tronWeb.toUtf8(e.result.message)):t(null,e)}var Vr=function(e){w()(u,e);var t,r,n,i,a,s,o=(a=u,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A()(a);if(s){var r=A()(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return S()(this,e)});function u(e){var t;return p()(this,u),t=o.call(this,e),_()(b()(t),"validator",void 0),_()(b()(t),"sendAsset",t.sendToken.bind(b()(t))),_()(b()(t),"purchaseAsset",t.purchaseToken.bind(b()(t))),_()(b()(t),"createAsset",t.createToken.bind(b()(t))),_()(b()(t),"updateAsset",t.updateToken.bind(b()(t))),Or=b()(t),t.validator=new pr(e),t}return y()(u,[{key:"sendTrx",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tronWeb.defaultAddress.hex,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0;if(!i)return this.injectPromise(this.sendTrx,e,t,r,n);if(t=parseInt(t.toString()),!this.validator.notValid([{name:"recipient",type:"address",value:e},{name:"origin",type:"address",value:r},{names:["recipient","origin"],type:"notEqual",msg:"Cannot transfer TRX to the same account"},{name:"amount",type:"integer",gt:0,value:t}],i)){var a={to_address:qr(e),owner_address:qr(r),amount:t,Permission_id:n&&n.permissionId?n.permissionId:void 0};this.tronWeb.fullNode.request("wallet/createtransaction",a,"post").then((function(e){return Kr(e,i)})).catch((function(e){return i(e)}))}}},{key:"sendToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5?arguments[5]:void 0;if(!a)return this.injectPromise(this.sendToken,e,t,r,n,i);if(t=parseInt(t.toString()),!this.validator.notValid([{name:"recipient",type:"address",value:e},{name:"origin",type:"address",value:n},{names:["recipient","origin"],type:"notEqual",msg:"Cannot transfer tokens to the same account"},{name:"amount",type:"integer",gt:0,value:t},{name:"token ID",type:"tokenId",value:r}],a)){var s={to_address:qr(e),owner_address:qr(n),asset_name:Dr(r),amount:parseInt(t.toString()),Permission_id:i&&i.permissionId?i.permissionId:void 0};this.tronWeb.fullNode.request("wallet/transferasset",s,"post").then((function(e){return Kr(e,a)})).catch((function(e){return a(e)}))}}},{key:"purchaseToken",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5?arguments[5]:void 0;if(!a)return this.injectPromise(this.purchaseToken,e,t,r,n,i);if(!this.validator.notValid([{name:"buyer",type:"address",value:n},{name:"issuer",type:"address",value:e},{names:["buyer","issuer"],type:"notEqual",msg:"Cannot purchase tokens from same account"},{name:"amount",type:"integer",gt:0,value:r},{name:"token ID",type:"tokenId",value:t}],a)){var s={to_address:qr(e),owner_address:qr(n),asset_name:Dr(t),amount:parseInt(r.toString()),Permission_id:i&&i.permissionId?i.permissionId:void 0};this.tronWeb.fullNode.request("wallet/participateassetissue",s,"post").then((function(e){return Kr(e,a)})).catch((function(e){return a(e)}))}}},{key:"freezeBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kr,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6?arguments[6]:void 0;if(!s)return this.injectPromise(this.freezeBalance,e,t,r,n,i,a);if(!this.validator.notValid([{name:"origin",type:"address",value:n},{name:"receiver",type:"address",value:i,optional:!0},{name:"amount",type:"integer",gt:0,value:e},{name:"duration",type:"integer",gte:3,value:t},{name:"resource",type:"resource",value:r,msg:Rr}],s)){var o={owner_address:qr(n),frozen_balance:parseInt(e.toString()),frozen_duration:parseInt(t.toString()),resource:r,receiver_address:null!=i&&qr(i)!==qr(n)?qr(i):void 0,Permission_id:a&&a.permissionId?a.permissionId:void 0};this.tronWeb.fullNode.request("wallet/freezebalance",o,"post").then((function(e){return Kr(e,s)})).catch((function(e){return s(e)}))}}},{key:"unfreezeBalance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0;if(!i)return this.injectPromise(this.unfreezeBalance,e,t,r,n);if(!this.validator.notValid([{name:"origin",type:"address",value:t},{name:"receiver",type:"address",value:r,optional:!0},{name:"resource",type:"resource",value:e,msg:Rr}],i)){var a={owner_address:qr(t),resource:e,receiver_address:null!=r&&qr(r)!==qr(t)?qr(r):void 0,Permission_id:n&&n.permissionId?n.permissionId:void 0};this.tronWeb.fullNode.request("wallet/unfreezebalance",a,"post").then((function(e){return Kr(e,i)})).catch((function(e){return i(e)}))}}},{key:"withdrawBlockRewards",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!r)return this.injectPromise(this.withdrawBlockRewards,e,t);if(!this.validator.notValid([{name:"origin",type:"address",value:e}],r)){var n={owner_address:qr(e),Permission_id:t&&t.permissionId?t.permissionId:void 0};this.tronWeb.fullNode.request("wallet/withdrawbalance",n,"post").then((function(e){return Kr(e,r)})).catch((function(e){return r(e)}))}}},{key:"applyForSR",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!n)return this.injectPromise(this.applyForSR,e,t,r);if(!this.validator.notValid([{name:"origin",type:"address",value:e},{name:"url",type:"url",value:t,msg:"Invalid url provided"}],n)){var i={owner_address:qr(e),url:Dr(t),Permission_id:r&&r.permissionId?r.permissionId:void 0};this.tronWeb.fullNode.request("wallet/createwitness",i,"post").then((function(e){return Kr(e,n)})).catch((function(e){return n(e)}))}}},{key:"vote",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!i)return this.injectPromise(this.vote,e,r,n);if(!this.validator.notValid([{name:"voter",type:"address",value:r},{name:"votes",type:"notEmptyObject",value:e}],i)){var a=!1,s=Object.entries(e).map((function(e){var r=V()(e,2),n=r[0],i=r[1];if(!a)return t.validator.notValid([{name:"SR",type:"address",value:n},{name:"vote count",type:"integer",gt:0,value:i,msg:"Invalid vote count provided for SR: "+n}])?a=!0:{vote_address:qr(n),vote_count:parseInt(i.toString())}}));if(!a){var o={owner_address:qr(r),votes:s,Permission_id:n&&n.permissionId?n.permissionId:void 0};this.tronWeb.fullNode.request("wallet/votewitnessaccount",o,"post").then((function(e){return Kr(e,i)})).catch((function(e){return i(e)}))}}}},{key:"createSmartContract",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2?arguments[2]:void 0;if(!r)return this.injectPromise(this.createSmartContract,e,t);var n=e.feeLimit||this.tronWeb.feeLimit,i=e.userFeePercentage;"number"==typeof i||i||(i=100);var a=e.originEnergyLimit||1e7,s=e.callValue||0,o=e.tokenValue,u=e.tokenId||e.token_id,c=e.abi,d=void 0===c?"":c,l=e.bytecode,h=e.parameters,f=void 0===h?[]:h,v=e.name,p=void 0===v?"":v;if(d&&Yt.isString(d))try{d=JSON.parse(d)}catch(e){return r("Invalid options.abi provided")}if(Yt.isString(d))throw new Error("Impossible!");var g="entrys"in d?d.entrys:d;if(!Yt.isArray(g))return r("Invalid options.abi provided");var y=g.some((function(e){return"constructor"===e.type&&"payable"===e.stateMutability.toLowerCase()}));if(!this.validator.notValid([{name:"bytecode",type:"hex",value:l},{name:"feeLimit",type:"integer",value:n,gt:0},{name:"callValue",type:"integer",value:s,gte:0},{name:"userFeePercentage",type:"integer",value:i,gte:0,lte:100},{name:"originEnergyLimit",type:"integer",value:a,gte:0,lte:1e7},{name:"parameters",type:"array",value:f},{name:"issuer",type:"address",value:t},{name:"tokenValue",type:"integer",value:o,gte:0,optional:!0},{name:"tokenId",type:"integer",value:u,gte:0,optional:!0}],r)){if(y&&0===s&&0===o)return r("When contract is payable, options.callValue or options.tokenValue must be a positive integer");if(!y&&(s>0||o&&o>0))return r("When contract is not payable, options.callValue and options.tokenValue must be 0");if(e.rawParameter&&Yt.isString(e.rawParameter))f=e.rawParameter.replace(/^(0x)/,"");else if(e.funcABIV2)f=ye(e.funcABIV2,e.parametersV2).replace(/^(0x)/,"");else{var m=g.find((function(e){return"constructor"===e.type}));if(void 0!==m&&m){var b=new ee,k=[],w=[],x=m.inputs;if(f.length!==x.length)return r("constructor needs ".concat(x.length)+" but ".concat(f.length," provided"));for(var S=0;S<f.length;S++){var I=x[S].type,A=f[S];if(!I||!Yt.isString(I)||!I.length)return r("Invalid parameter type provided: "+I);"address"===I?A=qr(A).replace(M,"0x"):"address["===I.match(/^([^\x5b]*)(\x5b|$)/)[0]?A=A.map((function(e){return qr(e).replace(M,"0x")})):/trcToken/.test(I)&&(I=I.replace(/trcToken/,"uint256")),k.push(I),w.push(A)}try{f=b.encode(k,w).replace(/^(0x)/,"")}catch(e){return r(e)}}else f=""}var P={owner_address:qr(t),fee_limit:parseInt(n.toString()),call_value:parseInt(s),consume_user_resource_percent:i,origin_energy_limit:a,abi:JSON.stringify(g),bytecode:l,parameter:f,name:p,token_id:null!=u?parseInt(u.toString()):void 0,call_token_value:null!=o?parseInt(o.toString()):void 0,Permission_id:e&&e.permissionId?e.permissionId:void 0};this.tronWeb.fullNode.request("wallet/deploycontract",P,"post").then((function(e){return Kr(e,r)})).catch((function(e){return r(e)}))}}},{key:"triggerSmartContract",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.tronWeb.defaultAddress.hex,a=arguments.length>5?arguments[5]:void 0;return this._triggerSmartContract(e,t,r,n,i,a)}},{key:"triggerConstantContract",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.tronWeb.defaultAddress.hex,a=arguments.length>5?arguments[5]:void 0;return r._isConstant=!0,this.triggerSmartContract(e,t,r,n,i,a)}},{key:"triggerConfirmedConstantContract",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.tronWeb.defaultAddress.hex,a=arguments.length>5?arguments[5]:void 0;return r._isConstant=!0,r.confirmed=!0,this.triggerSmartContract(e,t,r,n,i,a)}},{key:"estimateEnergy",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[2].estimateEnergy=!0,this._triggerSmartContract(t[0],t[1],t[2],t[3],t[4].params[5])}},{key:"_triggerSmartContract",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.tronWeb.defaultAddress.hex,a=arguments.length>5?arguments[5]:void 0;if(!a)return this.injectPromise(this._triggerSmartContract,e,t,r,n,i);var s=Object.assign({callValue:0,feeLimit:this.tronWeb.feeLimit},r),o=s.tokenValue,u=s.tokenId,c=s.callValue,d=s.feeLimit;if(!this.validator.notValid([{name:"feeLimit",type:"integer",value:d,gt:0},{name:"callValue",type:"integer",value:c,gte:0},{name:"parameters",type:"array",value:n},{name:"contract",type:"address",value:e},{name:"issuer",type:"address",value:i,optional:!0},{name:"tokenValue",type:"integer",value:o,gte:0,optional:!0},{name:"tokenId",type:"integer",value:u,gte:0,optional:!0}],a)){var l,h={contract_address:qr(e),owner_address:qr(i)};if(t&&Yt.isString(t)){if(t=t.replace("/s*/g",""),n.length){for(var f=new ee,v=[],p=[],g=0;g<n.length;g++){var y=n[g],m=y.type,b=y.value;if(!m||!Yt.isString(m)||!m.length)return a("Invalid parameter type provided: "+m);"address"===m?b=qr(b).replace(M,"0x"):"address["===m.match(/^([^\x5b]*)(\x5b|$)/)[0]&&(b=b.map((function(e){return qr(e).replace(M,"0x")}))),v.push(m),p.push(b)}try{v=v.map((function(e){return/trcToken/.test(e)&&(e=e.replace(/trcToken/,"uint256")),e})),l=f.encode(v,p).replace(/^(0x)/,"")}catch(e){return a(e)}}else l="";r.funcABIV2&&(l=ye(r.funcABIV2,r.parametersV2).replace(/^(0x)/,"")),r.shieldedParameter&&Yt.isString(r.shieldedParameter)&&(l=r.shieldedParameter.replace(/^(0x)/,"")),r.rawParameter&&Yt.isString(r.rawParameter)&&(l=r.rawParameter.replace(/^(0x)/,"")),h.function_selector=t,h.parameter=l}h.call_value=parseInt(c),null!=o&&(h.call_token_value=parseInt(o.toString())),null!=u&&(h.token_id=parseInt(u.toString())),r._isConstant||r.estimateEnergy||(h.fee_limit=parseInt(d.toString())),r.permissionId&&(h.Permission_id=r.permissionId);var k="triggesmartcontract";r._isConstant?k="triggerconstantcontract":r.estimateEnergy&&(k="estimateenergy"),k="wallet".concat(r.confirmed?"solidity":"","/").concat(k),this.tronWeb[r.confirmed?"solidityNode":"fullNode"].request(k,h,"post").then((function(e){return Kr(e,a)})).catch((function(e){return a(e)}))}}},{key:"clearABI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2?arguments[2]:void 0;if(!r)return this.injectPromise(this.clearABI,e,t);if(!this.tronWeb.isAddress(e))return r("Invalid contract address provided");if(!this.tronWeb.isAddress(t))return r("Invalid owner address provided");var n={contract_address:qr(e),owner_address:qr(t)};this.tronWeb.trx.cache.contracts[e]&&delete this.tronWeb.trx.cache.contracts[e],this.tronWeb.fullNode.request("wallet/clearabi",n,"post").then((function(e){return Kr(e,r)})).catch((function(e){return r(e)}))}},{key:"updateBrokerage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2?arguments[2]:void 0;if(!r)return this.injectPromise(this.updateBrokerage,e,t);if(!Yt.isNotNullOrUndefined(e))return r("Invalid brokerage provided");if(!Yt.isInteger(e)||e<0||e>100)return r("Brokerage must be an integer between 0 and 100");if(!this.tronWeb.isAddress(t))return r("Invalid owner address provided");var n={brokerage:parseInt(e.toString()),owner_address:qr(t)};this.tronWeb.fullNode.request("wallet/updateBrokerage",n,"post").then((function(e){return Kr(e,r)})).catch((function(e){return r(e)}))}},{key:"createToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2?arguments[2]:void 0;if(!r)return this.injectPromise(this.createToken,e,t);var n=e.name,i=e.abbreviation,a=e.description,s=e.url,o=e.totalSupply,u=e.voteScore,c=e.precision,d=e.saleStart,l=void 0===d?Date.now():d,h=e.saleEnd,f=e.trxRatio,v=void 0===f?1:f,p=e.tokenRatio,g=void 0===p?1:p,y=e.freeBandwidth,m=void 0===y?0:y,b=e.freeBandwidthLimit,k=void 0===b?0:b,w=e.frozenAmount,x=void 0===w?0:w,S=e.frozenDuration,I=void 0===S?0:S;if(!this.validator.notValid([{name:"Supply amount",type:"positive-integer",value:o},{name:"TRX ratio",type:"positive-integer",value:v},{name:"Token ratio",type:"positive-integer",value:g},{name:"token abbreviation",type:"not-empty-string",value:i},{name:"token name",type:"not-empty-string",value:n},{name:"token description",type:"not-empty-string",value:a},{name:"token url",type:"url",value:s},{name:"issuer",type:"address",value:t},{name:"sale start timestamp",type:"integer",value:l,gte:Date.now()},{name:"sale end timestamp",type:"integer",value:h,gt:parseInt(l.toString())},{name:"Free bandwidth amount",type:"integer",value:m,gte:0},{name:"Free bandwidth limit",type:"integer",value:k,gte:0},{name:"Frozen supply",type:"integer",value:x,gte:0},{name:"Frozen duration",type:"integer",value:I,gte:0}],r)){if(Yt.isNotNullOrUndefined(u)&&(!Yt.isInteger(u)||u<=0))return r("voteScore must be a positive integer greater than 0");if(Yt.isNotNullOrUndefined(c)&&(!Yt.isInteger(c)||c<0||c>6))return r("precision must be a positive integer >= 0 and <= 6");var A={owner_address:qr(t),name:Dr(n),abbr:Dr(i),description:Dr(a),url:Dr(s),total_supply:parseInt(o.toString()),trx_num:parseInt(v.toString()),num:parseInt(g.toString()),start_time:parseInt(l.toString()),end_time:parseInt(h.toString()),free_asset_net_limit:parseInt(m.toString()),public_free_asset_net_limit:parseInt(k.toString()),frozen_supply:{frozen_amount:parseInt(x.toString()),frozen_days:parseInt(I.toString())}};c&&!isNaN(parseInt(c.toString()))&&(A.precision=parseInt(c.toString())),u&&!isNaN(parseInt(u.toString()))&&(A.vote_score=parseInt(u.toString())),e&&e.permissionId&&(A.Permission_id=e.permissionId),this.tronWeb.fullNode.request("wallet/createassetissue",A,"post").then((function(e){return Kr(e,r)})).catch((function(e){return r(e)}))}}},{key:"updateAccount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(!n)return this.injectPromise(this.updateAccount,e,t,r);if(!this.validator.notValid([{name:"Name",type:"not-empty-string",value:e},{name:"origin",type:"address",value:t}],n)){var i={account_name:Dr(e),owner_address:qr(t),Permission_id:r&&r.permissionId?r.permissionId:void 0};this.tronWeb.fullNode.request("wallet/updateaccount",i,"post").then((function(e){return Kr(e,n)})).catch((function(e){return n(e)}))}}},{key:"setAccountId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2?arguments[2]:void 0;if(!r)return this.injectPromise(this.setAccountId,e,t);e&&Yt.isString(e)&&e.startsWith("0x")&&(e=e.slice(2)),this.validator.notValid([{name:"accountId",type:"hex",value:e},{name:"accountId",type:"string",lte:32,gte:8,value:e},{name:"origin",type:"address",value:t}],r)||this.tronWeb.fullNode.request("wallet/setaccountid",{account_id:e,owner_address:qr(t)},"post").then((function(e){return Kr(e,r)})).catch((function(e){return r(e)}))}},{key:"updateToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2?arguments[2]:void 0;if(!r)return this.injectPromise(this.updateToken,e,t);var n=e.description,i=e.url,a=e.freeBandwidth,s=void 0===a?0:a,o=e.freeBandwidthLimit,u=void 0===o?0:o;if(!this.validator.notValid([{name:"token description",type:"not-empty-string",value:n},{name:"token url",type:"url",value:i},{name:"issuer",type:"address",value:t},{name:"Free bandwidth amount",type:"positive-integer",value:s},{name:"Free bandwidth limit",type:"positive-integer",value:u}],r)){var c={owner_address:qr(t),description:Dr(n),url:Dr(i),new_limit:parseInt(s.toString()),new_public_limit:parseInt(u.toString()),Permission_id:e&&e.permissionId?e.permissionId:void 0};this.tronWeb.fullNode.request("wallet/updateasset",c,"post").then((function(e){return Kr(e,r)})).catch((function(e){return r(e)}))}}},{key:"createProposal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(!n)return this.injectPromise(this.createProposal,e,t,r);if(!this.validator.notValid([{name:"issuer",type:"address",value:t}],n)){var i="Invalid proposal parameters provided";if(!e)return n(i);Yt.isArray(e)||(e=[e]);var a,s=Cr(e);try{for(s.s();!(a=s.n()).done;){var o=a.value;if(!Yt.isObject(o))return n(i)}}catch(e){s.e(e)}finally{s.f()}var u={owner_address:qr(t),parameters:e,Permission_id:r&&r.permissionId?r.permissionId:void 0};this.tronWeb.fullNode.request("wallet/proposalcreate",u,"post").then((function(e){return Kr(e,n)})).catch((function(e){return n(e)}))}}},{key:"deleteProposal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.tronWeb.defaultAddress.hex,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(!n)return this.injectPromise(this.deleteProposal,e,t,r);if(!this.validator.notValid([{name:"issuer",type:"address",value:t},{name:"proposalID",type:"integer",value:e,gte:0}],n)){var i={owner_address:qr(t),proposal_id:parseInt(e.toString()),Permission_id:r&&r.permissionId?r.permissionId:void 0};this.tronWeb.fullNode.request("wallet/proposaldelete",i,"post").then((function(e){return Kr(e,n)})).catch((function(e){return n(e)}))}}},{key:"voteProposal",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tronWeb.defaultAddress.hex,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!i)return this.injectPromise(this.voteProposal,e,t,r,n);if(!this.validator.notValid([{name:"voter",type:"address",value:r},{name:"proposalID",type:"integer",value:e,gte:0},{name:"has approval",type:"boolean",value:t}],i)){var a={owner_address:qr(r),proposal_id:parseInt(e.toString()),is_add_approval:t,Permission_id:n&&n.permissionId?n.permissionId:void 0};this.tronWeb.fullNode.request("wallet/proposalapprove",a,"post").then((function(e){return Kr(e,i)})).catch((function(e){return i(e)}))}}},{key:"createTRXExchange",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(!a)return this.injectPromise(this.createTRXExchange,e,t,r,n,i);if(!this.validator.notValid([{name:"owner",type:"address",value:n},{name:"token name",type:"not-empty-string",value:e},{name:"token balance",type:"positive-integer",value:t},{name:"trx balance",type:"positive-integer",value:r}],a)){var s={owner_address:qr(n),first_token_id:Dr(e),first_token_balance:t,second_token_id:"5f",second_token_balance:r,Permission_id:i&&i.permissionId?i.permissionId:void 0};this.tronWeb.fullNode.request("wallet/exchangecreate",s,"post").then((function(e){a(null,e)})).catch((function(e){return a(e)}))}}},{key:"createTokenExchange",value:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.tronWeb.defaultAddress.hex,a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;if(!s)return this.injectPromise(this.createTokenExchange,e,t,r,n,i,a);if(!this.validator.notValid([{name:"owner",type:"address",value:i},{name:"first token name",type:"not-empty-string",value:e},{name:"second token name",type:"not-empty-string",value:r},{name:"first token balance",type:"positive-integer",value:t},{name:"second token balance",type:"positive-integer",value:n}],s)){var o={owner_address:qr(i),first_token_id:Dr(e),first_token_balance:t,second_token_id:Dr(r),second_token_balance:n,Permission_id:a&&a.permissionId?a.permissionId:void 0};this.tronWeb.fullNode.request("wallet/exchangecreate",o,"post").then((function(e){s(null,e)})).catch((function(e){return s(e)}))}}},{key:"injectExchangeTokens",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(!a)return this.injectPromise(this.injectExchangeTokens,e,t,r,n,i);if(!this.validator.notValid([{name:"owner",type:"address",value:n},{name:"token name",type:"not-empty-string",value:t},{name:"token amount",type:"integer",value:r,gte:1},{name:"exchangeID",type:"integer",value:e,gte:0}],a)){var s={owner_address:qr(n),exchange_id:parseInt(e.toString()),token_id:Dr(t),quant:parseInt(r.toString()),Permission_id:i&&i.permissionId?i.permissionId:void 0};this.tronWeb.fullNode.request("wallet/exchangeinject",s,"post").then((function(e){return Kr(e,a)})).catch((function(e){return a(e)}))}}},{key:"withdrawExchangeTokens",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.tronWeb.defaultAddress.hex,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(!a)return this.injectPromise(this.withdrawExchangeTokens,e,t,r,n,i);if(!this.validator.notValid([{name:"owner",type:"address",value:n},{name:"token name",type:"not-empty-string",value:t},{name:"token amount",type:"integer",value:r,gte:1},{name:"exchangeID",type:"integer",value:e,gte:0}],a)){var s={owner_address:qr(n),exchange_id:parseInt(e.toString()),token_id:Dr(t),quant:parseInt(r.toString()),Permission_id:i&&i.permissionId?i.permissionId:void 0};this.tronWeb.fullNode.request("wallet/exchangewithdraw",s,"post").then((function(e){return Kr(e,a)})).catch((function(e){return a(e)}))}}},{key:"tradeExchangeTokens",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.tronWeb.defaultAddress.hex,a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;if(!s)return this.injectPromise(this.tradeExchangeTokens,e,t,r,n,i,a);if(!this.validator.notValid([{name:"owner",type:"address",value:i},{name:"token name",type:"not-empty-string",value:t},{name:"tokenAmountSold",type:"integer",value:r,gte:1},{name:"tokenAmountExpected",type:"integer",value:n,gte:1},{name:"exchangeID",type:"integer",value:e,gte:0}],s)){var o={owner_address:qr(i),exchange_id:parseInt(e.toString()),token_id:this.tronWeb.fromAscii(t),quant:parseInt(r.toString()),expected:parseInt(n.toString()),Permission_id:a&&a.permissionId?a.permissionId:void 0};this.tronWeb.fullNode.request("wallet/exchangetransaction",o,"post").then((function(e){return Kr(e,s)})).catch((function(e){return s(e)}))}}},{key:"updateSetting",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tronWeb.defaultAddress.hex,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!i)return this.injectPromise(this.updateSetting,e,t,r,n);if(!this.validator.notValid([{name:"owner",type:"address",value:r},{name:"contract",type:"address",value:e},{name:"userFeePercentage",type:"integer",value:t,gte:0,lte:100}],i)){var a={owner_address:qr(r),contract_address:qr(e),consume_user_resource_percent:t,Permission_id:n&&n.permissionId?n.permissionId:void 0};this.tronWeb.fullNode.request("wallet/updatesetting",a,"post").then((function(e){return Kr(e,i)})).catch((function(e){return i(e)}))}}},{key:"updateEnergyLimit",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tronWeb.defaultAddress.hex,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!i)return this.injectPromise(this.updateEnergyLimit,e,t,r,n);if(!this.validator.notValid([{name:"owner",type:"address",value:r},{name:"contract",type:"address",value:e},{name:"originEnergyLimit",type:"integer",value:t,gte:0,lte:1e7}],i)){var a={owner_address:qr(r),contract_address:qr(e),origin_energy_limit:t,Permission_id:n&&n.permissionId?n.permissionId:void 0};this.tronWeb.fullNode.request("wallet/updateenergylimit",a,"post").then((function(e){return Kr(e,i)})).catch((function(e){return i(e)}))}}},{key:"checkPermissions",value:function(e,t){if(e){if(e.type!==t||!e.permission_name||!Yt.isString(e.permission_name)||!Yt.isInteger(e.threshold)||e.threshold<1||!e.keys)return!1;var r,n=Cr(e.keys);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(!this.tronWeb.isAddress(i.address)||!Yt.isInteger(i.weight)||i.weight>e.threshold||i.weight<1||2===t&&!e.operations)return!1}}catch(e){n.e(e)}finally{n.f()}}return!0}},{key:"updateAccountPermissions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tronWeb.defaultAddress.hex,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!i)return this.injectPromise(this.updateAccountPermissions,e,t,r,n);if(!this.tronWeb.isAddress(e))return i("Invalid ownerAddress provided");if(!this.checkPermissions(t,0))return i("Invalid ownerPermissions provided");if(!this.checkPermissions(r,1))return i("Invalid witnessPermissions provided");Array.isArray(n)||(n=[n]);var a,s=Cr(n);try{for(s.s();!(a=s.n()).done;){var o=a.value;if(!this.checkPermissions(o,2))return i("Invalid activesPermissions provided")}}catch(e){s.e(e)}finally{s.f()}var u={owner_address:e,owner:void 0,witness:void 0,actives:[]};t&&(u.owner=t),r&&(u.witness=r),n&&(u.actives=n),this.tronWeb.fullNode.request("wallet/accountpermissionupdate",u,"post").then((function(e){return Kr(e,i)})).catch((function(e){return i(e)}))}},{key:"newTxID",value:(i=l()(N().mark((function e(t,r){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",this.injectPromise(this.newTxID,t));case 2:this.tronWeb.fullNode.request("wallet/getsignweight",t,"post").then((function(e){var n,i=null===(n=e.transaction)||void 0===n?void 0:n.transaction;i&&"boolean"==typeof t.visible&&(i.visible=t.visible),r(null,i)})).catch((function(){return r("Error generating a new transaction id.")}));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"alterTransaction",value:(n=l()(N().mark((function e(t,r,n){var i,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",this.injectPromise(this.alterTransaction,t,r));case 2:if(!t.signature){e.next=4;break}return e.abrupt("return",n("You can not extend the expiration of a signed transaction."));case 4:if(!("data"in r)||!r.data){e.next=14;break}if(i=r.data,a="hex"!==r.dataFormat?this.tronWeb.toHex(i):i,Yt.isString(a)){e.next=9;break}throw new TypeError("Invalid data provided");case 9:if(0!==(a=a.replace(/^0x/,"")).length){e.next=12;break}return e.abrupt("return",n("Invalid data provided"));case 12:t.raw_data.data=a,r.data=a;case 14:if(!r.extension){e.next=19;break}if(r.extension=parseInt((1e3*r.extension).toString()),!(isNaN(r.extension)||t.raw_data.expiration+r.extension<=Date.now()+3e3)){e.next=18;break}return e.abrupt("return",n("Invalid extension provided"));case 18:t.raw_data.expiration+=r.extension;case 19:this.newTxID(t,n);case 20:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"extendExpiration",value:(r=l()(N().mark((function e(t,r,n){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",this.injectPromise(this.extendExpiration,t,r));case 2:this.alterTransaction(t,{extension:r},n);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"addUpdateData",value:(t=l()(N().mark((function e(t,r){var n,i,a=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>2&&void 0!==a[2]?a[2]:"utf8",i=a.length>3?a[3]:void 0){e.next=4;break}return e.abrupt("return",this.injectPromise(this.addUpdateData,t,r,n));case 4:this.alterTransaction(t,{data:r,dataFormat:n},i);case 5:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),u}(H);var Hr="3.5.0",Lr=function(e){w()(u,e);var t,r,n,i,a,s,o=(a=u,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A()(a);if(s){var r=A()(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return S()(this,e)});function u(e,t,r,n,i){var a,s,c,d;if(p()(this,u),a=o.call(this),_()(b()(a),"version",D),_()(b()(a),"providers",cr),_()(b()(a),"utils",Yt),_()(b()(a),"BigNumber",j()),_()(b()(a),"injectPromise",void 0),_()(b()(a),"event",void 0),_()(b()(a),"transactionBuilder",void 0),_()(b()(a),"trx",void 0),_()(b()(a),"plugin",void 0),_()(b()(a),"sidechain",void 0),_()(b()(a),"fullNode",void 0),_()(b()(a),"solidityNode",void 0),_()(b()(a),"eventServer",void 0),_()(b()(a),"defaultBlock",void 0),_()(b()(a),"defaultPrivateKey",void 0),_()(b()(a),"defaultAddress",void 0),_()(b()(a),"fullnodeVersion",Hr),_()(b()(a),"feeLimit",15e7),"object"===f()(e)&&("fullNode"in e||"fullHost"in e)&&("fullNode"in e?e.fullNode:e.fullHost)?(s="fullNode"in e?e.fullNode:e.fullHost,n=t,t="solidityNode"in e?e.solidityNode:e.fullHost,r="eventServer"in e?e.eventServer:e.fullHost,c=e.headers||!1,d=e.eventHeaders||c,i=e.privateKey):s=e,Yt.isString(s)&&(s=new ur(s)),Yt.isString(t)&&(t=new ur(t)),Yt.isString(r)&&(r=new ur(r)),a.event=new dr(b()(a)),a.transactionBuilder=new Vr(b()(a)),a.trx=new Er(b()(a)),a.plugin=new lr(b()(a),e),a.setFullNode(s),a.setSolidityNode(t),a.setEventServer(r),a.defaultBlock=void 0,a.defaultPrivateKey=void 0,a.defaultAddress={hex:void 0,base58:void 0},n&&"object"===f()(n)&&("fullNode"in n?n.fullNode:n.fullHost))a.sidechain=new br(n,u,b()(a),i);else{if("string"!=typeof n&&null!=n)throw new TypeError("Wrong options combination provided");null!=n&&(i=i||n)}return i&&a.setPrivateKey(i),a.injectPromise=O()(b()(a)),c&&a.setFullNodeHeader(c),d&&a.setEventHeader(d),a}return y()(u,[{key:"getFullnodeVersion",value:(i=l()(N().mark((function e(){var t;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.trx.getNodeInfo();case 3:t=e.sent,this.fullnodeVersion=t.configNodeInfo.codeVersion,2===this.fullnodeVersion.split(".").length&&(this.fullnodeVersion+=".0"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.fullnodeVersion=Hr;case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return i.apply(this,arguments)})},{key:"setDefaultBlock",value:function(e){if([void 0,"latest","earliest",0].includes(e))this.defaultBlock=e;else{if(!Yt.isInteger(e)||!e)throw new Error("Invalid block ID provided");this.defaultBlock=Math.abs(e)}}},{key:"setPrivateKey",value:function(e){try{var t=this.address.fromPrivateKey(e);if(!t)throw new Error;this.setAddress(t)}catch(e){throw new Error("Invalid private key provided")}this.defaultPrivateKey=e,this.emit("privateKeyChanged",e)}},{key:"setAddress",value:function(e){if(!this.isAddress(e))throw new Error("Invalid address provided");var t=this.address.toHex(e),r=this.address.fromHex(e);this.defaultPrivateKey&&this.address.fromPrivateKey(this.defaultPrivateKey)!==r&&(this.defaultPrivateKey=void 0),this.defaultAddress={hex:t,base58:r},this.emit("addressChanged",{hex:t,base58:r})}},{key:"fullnodeSatisfies",value:function(e){return q().satisfies(this.fullnodeVersion,e)}},{key:"isValidProvider",value:function(e){return Object.values(cr).some((function(t){return e instanceof t}))}},{key:"setFullNode",value:function(e){if(Yt.isString(e)&&(e=new ur(e)),!this.isValidProvider(e))throw new Error("Invalid full node provided");this.fullNode=e,this.fullNode.setStatusPage("wallet/getnowblock"),this.getFullnodeVersion()}},{key:"setSolidityNode",value:function(e){if(Yt.isString(e)&&(e=new ur(e)),!this.isValidProvider(e))throw new Error("Invalid solidity node provided");this.solidityNode=e,this.solidityNode.setStatusPage("walletsolidity/getnowblock")}},{key:"setEventServer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"healthcheck";this.event.setServer(e,t)}},{key:"setHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new ur(this.fullNode.host,3e4,void 0,void 0,e),r=new ur(this.solidityNode.host,3e4,void 0,void 0,e),n=new ur(this.eventServer.host,3e4,void 0,void 0,e);this.setFullNode(t),this.setSolidityNode(r),this.setEventServer(n)}},{key:"setFullNodeHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new ur(this.fullNode.host,3e4,void 0,void 0,e),r=new ur(this.solidityNode.host,3e4,void 0,void 0,e);this.setFullNode(t),this.setSolidityNode(r)}},{key:"setEventHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new ur(this.eventServer.host,3e4,void 0,void 0,e);this.setEventServer(t)}},{key:"currentProviders",value:function(){return{fullNode:this.fullNode,solidityNode:this.solidityNode,eventServer:this.eventServer}}},{key:"currentProvider",value:function(){return this.currentProviders()}},{key:"getEventResult",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return this.event.getEventsByContractAddress(e,t,r)}},{key:"getEventByTransactionID",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return this.event.getEventsByTransactionID(e,t,r)}},{key:"contract",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return new nr(this,e,t)}},{key:"address",get:function(){return u.address}},{key:"sha3",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return u.sha3(e,t)}},{key:"toHex",value:function(e){return u.toHex(e)}},{key:"toUtf8",value:function(e){return u.toUtf8(e)}},{key:"fromUtf8",value:function(e){return u.fromUtf8(e)}},{key:"toAscii",value:function(e){return u.toAscii(e)}},{key:"fromAscii",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return u.fromAscii(e,t)}},{key:"toDecimal",value:function(e){return u.toDecimal(e)}},{key:"fromDecimal",value:function(e){return u.fromDecimal(e)}},{key:"fromSun",value:function(e){return u.fromSun(e)}},{key:"toSun",value:function(e){return u.toSun(e)}},{key:"toBigNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return u.toBigNumber(e)}},{key:"isAddress",value:function(e){return u.isAddress(e)}},{key:"createAccount",value:(n=l()(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.createAccount());case 1:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"createRandom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u.createRandom(e)}},{key:"fromMnemonic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";return u.fromMnemonic(e,t,r)}},{key:"isConnected",value:(r=l()(N().mark((function e(t){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",this.injectPromise(this.isConnected));case 2:return e.t0=t,e.next=5,this.fullNode.isConnected();case 5:return e.t1=e.sent,e.next=8,this.solidityNode.isConnected();case 8:if(e.t2=e.sent,e.t3=this.eventServer,!e.t3){e.next=14;break}return e.next=13,this.eventServer.isConnected();case 13:e.t3=e.sent;case 14:return e.t4=e.t3,e.t5={fullNode:e.t1,solidityNode:e.t2,eventServer:e.t4},e.abrupt("return",(0,e.t0)(null,e.t5));case 17:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}],[{key:"address",get:function(){return{fromHex:function(e){return Yt.isHex(e)?Yt.crypto.getBase58CheckAddress(Yt.code.hexStr2byteArray(e.replace(/^0x/,F))):e},toHex:function(e){return Yt.isHex(e)?e.toLowerCase().replace(/^0x/,F):Yt.code.byteArray2hexStr(Yt.crypto.decodeBase58Address(e)).toLowerCase()},fromPrivateKey:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return Yt.crypto.pkToAddress(e,t)}catch(e){throw new Error("Invalid private key!")}}}}},{key:"sha3",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(t?"0x":"")+J(Buffer.from(e,"utf-8")).toString().substring(2)}},{key:"toHex",value:function(e){if(Yt.isBoolean(e))return u.fromDecimal(+e);if(Yt.isBigNumber(e))return u.fromDecimal(e);if("object"===f()(e))return u.fromUtf8(JSON.stringify(e));if(Yt.isString(e)){if(/^(-|)0x/.test(e))return e;if(!isFinite(e)||/^\s*$/.test(e))return u.fromUtf8(e)}var t=u.fromDecimal(e);if("0xNaN"===t)throw new Error("The passed value is not convertible to a hex string");return t}},{key:"toUtf8",value:function(e){if(Yt.isHex(e))return e=e.replace(/^0x/,""),Buffer.from(e,"hex").toString("utf8");throw new Error("The passed value is not a valid hex string")}},{key:"fromUtf8",value:function(e){if(!Yt.isString(e))throw new Error("The passed value is not a valid utf-8 string");return"0x"+Buffer.from(e,"utf8").toString("hex")}},{key:"toAscii",value:function(e){if(Yt.isHex(e)){for(var t="",r="0x"===e.substring(0,2)?2:0;r<e.length;r+=2){var n=parseInt(e.substr(r,2),16);t+=String.fromCharCode(n)}return t}throw new Error("The passed value is not a valid hex string")}},{key:"fromAscii",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Yt.isString(e))throw new Error("The passed value is not a valid utf-8 string");return"0x"+Buffer.from(e,"ascii").toString("hex").padEnd(t,"0")}},{key:"toDecimal",value:function(e){return u.toBigNumber(e).toNumber()}},{key:"fromDecimal",value:function(e){var t=u.toBigNumber(e),r=t.toString(16);return t.isLessThan(0)?"-0x"+r.substr(1):"0x"+r}},{key:"fromSun",value:function(e){var t=u.toBigNumber(e).div(1e6);return Yt.isBigNumber(e)?t:t.toString(10)}},{key:"toSun",value:function(e){var t=u.toBigNumber(e).times(1e6);return Yt.isBigNumber(e)?t:t.toString(10)}},{key:"toBigNumber",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Yt.isBigNumber(e)?e:Yt.isString(e)&&/^(-|)0x/.test(e)?new(j())(e.replace("0x",""),16):new(j())(e.toString(10),10)}},{key:"isAddress",value:function(e){if(!Yt.isString(e))return!1;if(42===e.length)try{return u.isAddress(Yt.crypto.getBase58CheckAddress(Yt.code.hexStr2byteArray(e)))}catch(e){return!1}try{return Yt.crypto.isAddressValid(e)}catch(e){return!1}}},{key:"createAccount",value:(t=l()(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yt.accounts.generateAccount());case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"createRandom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Yt.accounts.generateRandom(e)}},{key:"fromMnemonic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";return Yt.accounts.generateAccountWithMnemonic(e,t,r)}}]),u}(C());_()(Lr,"providers",cr),_()(Lr,"BigNumber",j()),_()(Lr,"TransactionBuilder",Vr),_()(Lr,"Trx",Er),_()(Lr,"Contract",nr),_()(Lr,"Plugin",lr),_()(Lr,"Event",dr),_()(Lr,"version",D),_()(Lr,"utils",Yt),module.exports=t.default})();
//# sourceMappingURL=TronWeb.node.js.map